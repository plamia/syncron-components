{"ast":null,"code":"/*!\n * https://github.com/es-shims/es5-shim\n * @license es5-shim Copyright 2009-2020 by contributors, MIT License\n * see https://github.com/es-shims/es5-shim/blob/master/LICENSE\n */\n// vim: ts=4 sts=4 sw=4 expandtab\n// Add semicolon to prevent IIFE from being passed as argument to concatenated code.\n; // eslint-disable-line no-extra-semi\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/templates/returnExports.js\n\n(function (root, factory) {\n  'use strict';\n  /* global define */\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.returnExports = factory(); // eslint-disable-line no-param-reassign\n  }\n})(this, function () {\n  /**\n   * Brings an environment as close to ECMAScript 5 compliance\n   * as is possible with the facilities of erstwhile engines.\n   *\n   * Annotated ES5: https://es5.github.io/ (specific links below)\n   * ES5 Spec: https://www.ecma-international.org/wp-content/uploads/ECMA-262_5.1_edition_june_2011.pdf\n   * Required reading: https://javascriptweblog.wordpress.com/2011/12/05/extending-javascript-natives/\n   */\n  // Shortcut to an often accessed properties, in order to avoid multiple\n  // dereference that costs universally. This also holds a reference to known-good\n  // functions.\n  var $Array = Array;\n  var ArrayPrototype = $Array.prototype;\n  var $Object = Object;\n  var ObjectPrototype = $Object.prototype;\n  var $Function = Function;\n  var FunctionPrototype = $Function.prototype;\n  var $String = String;\n  var StringPrototype = $String.prototype;\n  var $Number = Number;\n  var NumberPrototype = $Number.prototype;\n  var array_slice = ArrayPrototype.slice;\n  var array_splice = ArrayPrototype.splice;\n  var array_push = ArrayPrototype.push;\n  var array_unshift = ArrayPrototype.unshift;\n  var array_concat = ArrayPrototype.concat;\n  var array_join = ArrayPrototype.join;\n  var call = FunctionPrototype.call;\n  var apply = FunctionPrototype.apply;\n  var max = Math.max;\n  var min = Math.min;\n  var floor = Math.floor;\n  var abs = Math.abs;\n  var pow = Math.pow;\n  var round = Math.round;\n  var log = Math.log;\n  var LOG10E = Math.LOG10E;\n\n  var log10 = Math.log10 || function log10(value) {\n    return log(value) * LOG10E;\n  }; // Having a toString local variable name breaks in Opera so use to_string.\n\n\n  var to_string = ObjectPrototype.toString;\n  /* eslint-disable one-var-declaration-per-line, no-redeclare, max-statements-per-line */\n\n  var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n  var isCallable;\n  /* inlined from https://npmjs.com/is-callable */\n\n  var fnToStr = Function.prototype.toString,\n      constructorRegex = /^\\s*class /,\n      isES6ClassFn = function isES6ClassFn(value) {\n    try {\n      var fnStr = fnToStr.call(value);\n      var singleStripped = fnStr.replace(/\\/\\/.*\\n/g, '');\n      var multiStripped = singleStripped.replace(/\\/\\*[.\\s\\S]*\\*\\//g, '');\n      var spaceStripped = multiStripped.replace(/\\n/mg, ' ').replace(/ {2}/g, ' ');\n      return constructorRegex.test(spaceStripped);\n    } catch (e) {\n      return false;\n      /* not a function */\n    }\n  },\n      tryFunctionObject = function tryFunctionObject(value) {\n    try {\n      if (isES6ClassFn(value)) {\n        return false;\n      }\n\n      fnToStr.call(value);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  },\n      fnClass = '[object Function]',\n      genClass = '[object GeneratorFunction]',\n      isCallable = function isCallable(value) {\n    if (!value) {\n      return false;\n    }\n\n    if (typeof value !== 'function' && typeof value !== 'object') {\n      return false;\n    }\n\n    if (hasToStringTag) {\n      return tryFunctionObject(value);\n    }\n\n    if (isES6ClassFn(value)) {\n      return false;\n    }\n\n    var strClass = to_string.call(value);\n    return strClass === fnClass || strClass === genClass;\n  };\n\n  var isRegex;\n  /* inlined from https://npmjs.com/is-regex */\n\n  var regexExec = RegExp.prototype.exec,\n      tryRegexExec = function tryRegexExec(value) {\n    try {\n      regexExec.call(value);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  },\n      regexClass = '[object RegExp]';\n\n  isRegex = function isRegex(value) {\n    if (typeof value !== 'object') {\n      return false;\n    }\n\n    return hasToStringTag ? tryRegexExec(value) : to_string.call(value) === regexClass;\n  };\n\n  var isString;\n  /* inlined from https://npmjs.com/is-string */\n\n  var strValue = String.prototype.valueOf,\n      tryStringObject = function tryStringObject(value) {\n    try {\n      strValue.call(value);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  },\n      stringClass = '[object String]';\n\n  isString = function isString(value) {\n    if (typeof value === 'string') {\n      return true;\n    }\n\n    if (typeof value !== 'object') {\n      return false;\n    }\n\n    return hasToStringTag ? tryStringObject(value) : to_string.call(value) === stringClass;\n  };\n  /* eslint-enable one-var-declaration-per-line, no-redeclare, max-statements-per-line */\n\n  /* inlined from https://npmjs.com/define-properties */\n\n\n  var supportsDescriptors = $Object.defineProperty && function () {\n    try {\n      var obj = {};\n      $Object.defineProperty(obj, 'x', {\n        enumerable: false,\n        value: obj\n      }); // eslint-disable-next-line no-unreachable-loop, max-statements-per-line\n\n      for (var _ in obj) {\n        return false;\n      } // jscs:ignore disallowUnusedVariables\n\n\n      return obj.x === obj;\n    } catch (e) {\n      /* this is ES3 */\n      return false;\n    }\n  }();\n\n  var defineProperties = function (has) {\n    // Define configurable, writable, and non-enumerable props\n    // if they don't exist.\n    var defineProperty;\n\n    if (supportsDescriptors) {\n      defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && name in object) {\n          return;\n        }\n\n        $Object.defineProperty(object, name, {\n          configurable: true,\n          enumerable: false,\n          writable: true,\n          value: method\n        });\n      };\n    } else {\n      defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && name in object) {\n          return;\n        }\n\n        object[name] = method; // eslint-disable-line no-param-reassign\n      };\n    }\n\n    return function defineProperties(object, map, forceAssign) {\n      for (var name in map) {\n        if (has.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n      }\n    };\n  }(ObjectPrototype.hasOwnProperty); // this is needed in Chrome 15 (probably earlier) - 36\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3334\n\n\n  if ($Object.defineProperty && supportsDescriptors) {\n    var F = function () {};\n\n    var toStringSentinel = {};\n    var sentinel = {\n      toString: toStringSentinel\n    };\n    $Object.defineProperty(F, 'prototype', {\n      value: sentinel,\n      writable: false\n    });\n\n    if (new F().toString !== toStringSentinel) {\n      var $dP = $Object.defineProperty;\n      var $gOPD = $Object.getOwnPropertyDescriptor;\n      defineProperties($Object, {\n        defineProperty: function defineProperty(o, k, d) {\n          var key = $String(k);\n\n          if (typeof o === 'function' && key === 'prototype') {\n            var desc = $gOPD(o, key);\n\n            if (desc.writable && !d.writable && 'value' in d) {\n              try {\n                o[key] = d.value; // eslint-disable-line no-param-reassign\n              } catch (e) {\n                /**/\n              }\n            }\n\n            return $dP(o, key, {\n              configurable: 'configurable' in d ? d.configurable : desc.configurable,\n              enumerable: 'enumerable' in d ? d.enumerable : desc.enumerable,\n              writable: d.writable\n            });\n          }\n\n          return $dP(o, key, d);\n        }\n      }, true);\n    }\n  } //\n  // Util\n  // ======\n  //\n\n  /* replaceable with https://npmjs.com/package/es-abstract /helpers/isPrimitive */\n\n\n  var isPrimitive = function isPrimitive(input) {\n    var type = typeof input;\n    return input === null || type !== 'object' && type !== 'function';\n  };\n\n  var isActualNaN = $Number.isNaN || function isActualNaN(x) {\n    return x !== x;\n  };\n\n  var ES = {\n    // ES5 9.4\n    // https://es5.github.io/#x9.4\n    // http://jsperf.com/to-integer\n\n    /* replaceable with https://npmjs.com/package/es-abstract ES5.ToInteger */\n    ToInteger: function ToInteger(num) {\n      var n = +num;\n\n      if (isActualNaN(n)) {\n        n = 0;\n      } else if (n !== 0 && n !== 1 / 0 && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * floor(abs(n));\n      }\n\n      return n;\n    },\n\n    /* replaceable with https://npmjs.com/package/es-abstract ES5.ToPrimitive */\n    ToPrimitive: function ToPrimitive(input) {\n      var val, valueOf, toStr;\n\n      if (isPrimitive(input)) {\n        return input;\n      }\n\n      valueOf = input.valueOf;\n\n      if (isCallable(valueOf)) {\n        val = valueOf.call(input);\n\n        if (isPrimitive(val)) {\n          return val;\n        }\n      }\n\n      toStr = input.toString;\n\n      if (isCallable(toStr)) {\n        val = toStr.call(input);\n\n        if (isPrimitive(val)) {\n          return val;\n        }\n      }\n\n      throw new TypeError();\n    },\n    // ES5 9.9\n    // https://es5.github.io/#x9.9\n\n    /* replaceable with https://npmjs.com/package/es-abstract ES5.ToObject */\n    ToObject: function (o) {\n      if (o == null) {\n        // this matches both null and undefined\n        throw new TypeError(\"can't convert \" + o + ' to object');\n      }\n\n      return $Object(o);\n    },\n\n    /* replaceable with https://npmjs.com/package/es-abstract ES5.ToUint32 */\n    ToUint32: function ToUint32(x) {\n      return x >>> 0;\n    }\n  }; //\n  // Function\n  // ========\n  //\n  // ES-5 15.3.4.5\n  // https://es5.github.io/#x15.3.4.5\n\n  var Empty = function Empty() {};\n\n  defineProperties(FunctionPrototype, {\n    bind: function bind(that) {\n      // .length is 1\n      // 1. Let Target be the this value.\n      var target = this; // 2. If IsCallable(Target) is false, throw a TypeError exception.\n\n      if (!isCallable(target)) {\n        throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n      } // 3. Let A be a new (possibly empty) internal list of all of the\n      //   argument values provided after thisArg (arg1, arg2 etc), in order.\n      // XXX slicedArgs will stand in for \"A\" if used\n\n\n      var args = array_slice.call(arguments, 1); // for normal call\n      // 4. Let F be a new native ECMAScript object.\n      // 11. Set the [[Prototype]] internal property of F to the standard\n      //   built-in Function prototype object as specified in 15.3.3.1.\n      // 12. Set the [[Call]] internal property of F as described in\n      //   15.3.4.5.1.\n      // 13. Set the [[Construct]] internal property of F as described in\n      //   15.3.4.5.2.\n      // 14. Set the [[HasInstance]] internal property of F as described in\n      //   15.3.4.5.3.\n\n      var bound;\n\n      var binder = function () {\n        if (this instanceof bound) {\n          // 15.3.4.5.2 [[Construct]]\n          // When the [[Construct]] internal method of a function object,\n          // F that was created using the bind function is called with a\n          // list of arguments ExtraArgs, the following steps are taken:\n          // 1. Let target be the value of F's [[TargetFunction]]\n          //   internal property.\n          // 2. If target has no [[Construct]] internal method, a\n          //   TypeError exception is thrown.\n          // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n          //   property.\n          // 4. Let args be a new list containing the same values as the\n          //   list boundArgs in the same order followed by the same\n          //   values as the list ExtraArgs in the same order.\n          // 5. Return the result of calling the [[Construct]] internal\n          //   method of target providing args as the arguments.\n          var result = apply.call(target, this, array_concat.call(args, array_slice.call(arguments)));\n\n          if ($Object(result) === result) {\n            return result;\n          }\n\n          return this;\n        } // 15.3.4.5.1 [[Call]]\n        // When the [[Call]] internal method of a function object, F,\n        // which was created using the bind function is called with a\n        // this value and a list of arguments ExtraArgs, the following\n        // steps are taken:\n        // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n        //   property.\n        // 2. Let boundThis be the value of F's [[BoundThis]] internal\n        //   property.\n        // 3. Let target be the value of F's [[TargetFunction]] internal\n        //   property.\n        // 4. Let args be a new list containing the same values as the\n        //   list boundArgs in the same order followed by the same\n        //   values as the list ExtraArgs in the same order.\n        // 5. Return the result of calling the [[Call]] internal method\n        //   of target providing boundThis as the this value and\n        //   providing args as the arguments.\n        // equiv: target.call(this, ...boundArgs, ...args)\n\n\n        return apply.call(target, that, array_concat.call(args, array_slice.call(arguments)));\n      }; // 15. If the [[Class]] internal property of Target is \"Function\", then\n      //     a. Let L be the length property of Target minus the length of A.\n      //     b. Set the length own property of F to either 0 or L, whichever is\n      //       larger.\n      // 16. Else set the length own property of F to 0.\n\n\n      var boundLength = max(0, target.length - args.length); // 17. Set the attributes of the length own property of F to the values\n      //   specified in 15.3.5.1.\n\n      var boundArgs = [];\n\n      for (var i = 0; i < boundLength; i++) {\n        array_push.call(boundArgs, '$' + i);\n      } // XXX Build a dynamic function with desired amount of arguments is the only\n      // way to set the length property of a function.\n      // In environments where Content Security Policies enabled (Chrome extensions,\n      // for ex.) all use of eval or Function costructor throws an exception.\n      // However in all of these environments Function.prototype.bind exists\n      // and so this code will never be executed.\n\n\n      bound = $Function('binder', 'return function (' + array_join.call(boundArgs, ',') + '){ return binder.apply(this, arguments); }')(binder);\n\n      if (target.prototype) {\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty(); // Clean up dangling references.\n\n        Empty.prototype = null;\n      } // TODO\n      // 18. Set the [[Extensible]] internal property of F to true.\n      // TODO\n      // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n      // 20. Call the [[DefineOwnProperty]] internal method of F with\n      //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n      //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n      //   false.\n      // 21. Call the [[DefineOwnProperty]] internal method of F with\n      //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n      //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n      //   and false.\n      // TODO\n      // NOTE Function objects created using Function.prototype.bind do not\n      // have a prototype property or the [[Code]], [[FormalParameters]], and\n      // [[Scope]] internal properties.\n      // XXX can't delete prototype in pure-js.\n      // 22. Return F.\n\n\n      return bound;\n    }\n  }); // _Please note: Shortcuts are defined after `Function.prototype.bind` as we\n  // use it in defining shortcuts.\n\n  var owns = call.bind(ObjectPrototype.hasOwnProperty);\n  var toStr = call.bind(ObjectPrototype.toString);\n  var arraySlice = call.bind(array_slice);\n  var arraySliceApply = apply.bind(array_slice);\n  /* globals document */\n\n  if (typeof document === 'object' && document && document.documentElement) {\n    try {\n      arraySlice(document.documentElement.childNodes);\n    } catch (e) {\n      var origArraySlice = arraySlice;\n      var origArraySliceApply = arraySliceApply;\n\n      arraySlice = function arraySliceIE(arr) {\n        var r = [];\n        var i = arr.length;\n\n        while (i-- > 0) {\n          r[i] = arr[i];\n        }\n\n        return origArraySliceApply(r, origArraySlice(arguments, 1));\n      };\n\n      arraySliceApply = function arraySliceApplyIE(arr, args) {\n        return origArraySliceApply(arraySlice(arr), args);\n      };\n    }\n  }\n\n  var strSlice = call.bind(StringPrototype.slice);\n  var strSplit = call.bind(StringPrototype.split);\n  var strIndexOf = call.bind(StringPrototype.indexOf);\n  var pushCall = call.bind(array_push);\n  var isEnum = call.bind(ObjectPrototype.propertyIsEnumerable);\n  var arraySort = call.bind(ArrayPrototype.sort); //\n  // Array\n  // =====\n  //\n\n  var isArray = $Array.isArray || function isArray(obj) {\n    return toStr(obj) === '[object Array]';\n  }; // ES5 15.4.4.12\n  // https://es5.github.io/#x15.4.4.13\n  // Return len+argCount.\n  // [bugfix, ielt8]\n  // IE < 8 bug: [].unshift(0) === undefined but should be \"1\"\n\n\n  var hasUnshiftReturnValueBug = [].unshift(0) !== 1;\n  defineProperties(ArrayPrototype, {\n    unshift: function () {\n      array_unshift.apply(this, arguments);\n      return this.length;\n    }\n  }, hasUnshiftReturnValueBug); // ES5 15.4.3.2\n  // https://es5.github.io/#x15.4.3.2\n  // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\n\n  defineProperties($Array, {\n    isArray: isArray\n  }); // The IsCallable() check in the Array functions\n  // has been replaced with a strict check on the\n  // internal class of the object to trap cases where\n  // the provided function was actually a regular\n  // expression literal, which in V8 and\n  // JavaScriptCore is a typeof \"function\".  Only in\n  // V8 are regular expression literals permitted as\n  // reduce parameters, so it is desirable in the\n  // general case for the shim to match the more\n  // strict and common behavior of rejecting regular\n  // expressions.\n  // ES5 15.4.4.18\n  // https://es5.github.io/#x15.4.4.18\n  // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/forEach\n  // Check failure of by-index access of string characters (IE < 9)\n  // and failure of `0 in boxedString` (Rhino)\n\n  var boxedString = $Object('a');\n  var splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\n  var properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    var threwException = false;\n\n    if (method) {\n      try {\n        method.call('foo', function (_, __, context) {\n          if (typeof context !== 'object') {\n            properlyBoxesNonStrict = false;\n          }\n        });\n        method.call([1], function () {\n          'use strict';\n\n          properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n      } catch (e) {\n        threwException = true;\n      }\n    }\n\n    return !!method && !threwException && properlyBoxesNonStrict && properlyBoxesStrict;\n  };\n\n  defineProperties(ArrayPrototype, {\n    forEach: function forEach(callbackfn\n    /*, thisArg*/\n    ) {\n      var object = ES.ToObject(this);\n      var self = splitString && isString(this) ? strSplit(this, '') : object;\n      var i = -1;\n      var length = ES.ToUint32(self.length);\n      var T;\n\n      if (arguments.length > 1) {\n        T = arguments[1];\n      } // If no callback function or if callback is not a callable function\n\n\n      if (!isCallable(callbackfn)) {\n        throw new TypeError('Array.prototype.forEach callback must be a function');\n      }\n\n      while (++i < length) {\n        if (i in self) {\n          // Invoke the callback function with call, passing arguments:\n          // context, property value, property key, thisArg object\n          if (typeof T === 'undefined') {\n            callbackfn(self[i], i, object);\n          } else {\n            callbackfn.call(T, self[i], i, object);\n          }\n        }\n      }\n    }\n  }, !properlyBoxesContext(ArrayPrototype.forEach)); // ES5 15.4.4.19\n  // https://es5.github.io/#x15.4.4.19\n  // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\n\n  defineProperties(ArrayPrototype, {\n    map: function map(callbackfn\n    /*, thisArg*/\n    ) {\n      var object = ES.ToObject(this);\n      var self = splitString && isString(this) ? strSplit(this, '') : object;\n      var length = ES.ToUint32(self.length);\n      var result = $Array(length);\n      var T;\n\n      if (arguments.length > 1) {\n        T = arguments[1];\n      } // If no callback function or if callback is not a callable function\n\n\n      if (!isCallable(callbackfn)) {\n        throw new TypeError('Array.prototype.map callback must be a function');\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self) {\n          if (typeof T === 'undefined') {\n            result[i] = callbackfn(self[i], i, object);\n          } else {\n            result[i] = callbackfn.call(T, self[i], i, object);\n          }\n        }\n      }\n\n      return result;\n    }\n  }, !properlyBoxesContext(ArrayPrototype.map)); // ES5 15.4.4.20\n  // https://es5.github.io/#x15.4.4.20\n  // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\n\n  defineProperties(ArrayPrototype, {\n    filter: function filter(callbackfn\n    /*, thisArg*/\n    ) {\n      var object = ES.ToObject(this);\n      var self = splitString && isString(this) ? strSplit(this, '') : object;\n      var length = ES.ToUint32(self.length);\n      var result = [];\n      var value;\n      var T;\n\n      if (arguments.length > 1) {\n        T = arguments[1];\n      } // If no callback function or if callback is not a callable function\n\n\n      if (!isCallable(callbackfn)) {\n        throw new TypeError('Array.prototype.filter callback must be a function');\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self) {\n          value = self[i];\n\n          if (typeof T === 'undefined' ? callbackfn(value, i, object) : callbackfn.call(T, value, i, object)) {\n            pushCall(result, value);\n          }\n        }\n      }\n\n      return result;\n    }\n  }, !properlyBoxesContext(ArrayPrototype.filter)); // ES5 15.4.4.16\n  // https://es5.github.io/#x15.4.4.16\n  // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\n\n  defineProperties(ArrayPrototype, {\n    every: function every(callbackfn\n    /*, thisArg*/\n    ) {\n      var object = ES.ToObject(this);\n      var self = splitString && isString(this) ? strSplit(this, '') : object;\n      var length = ES.ToUint32(self.length);\n      var T;\n\n      if (arguments.length > 1) {\n        T = arguments[1];\n      } // If no callback function or if callback is not a callable function\n\n\n      if (!isCallable(callbackfn)) {\n        throw new TypeError('Array.prototype.every callback must be a function');\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self && !(typeof T === 'undefined' ? callbackfn(self[i], i, object) : callbackfn.call(T, self[i], i, object))) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, !properlyBoxesContext(ArrayPrototype.every)); // ES5 15.4.4.17\n  // https://es5.github.io/#x15.4.4.17\n  // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\n\n  defineProperties(ArrayPrototype, {\n    some: function some(callbackfn\n    /*, thisArg */\n    ) {\n      var object = ES.ToObject(this);\n      var self = splitString && isString(this) ? strSplit(this, '') : object;\n      var length = ES.ToUint32(self.length);\n      var T;\n\n      if (arguments.length > 1) {\n        T = arguments[1];\n      } // If no callback function or if callback is not a callable function\n\n\n      if (!isCallable(callbackfn)) {\n        throw new TypeError('Array.prototype.some callback must be a function');\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self && (typeof T === 'undefined' ? callbackfn(self[i], i, object) : callbackfn.call(T, self[i], i, object))) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, !properlyBoxesContext(ArrayPrototype.some)); // ES5 15.4.4.21\n  // https://es5.github.io/#x15.4.4.21\n  // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduce\n\n  var reduceCoercesToObject = false;\n\n  if (ArrayPrototype.reduce) {\n    reduceCoercesToObject = typeof ArrayPrototype.reduce.call('es5', function (_, __, ___, list) {\n      return list;\n    }) === 'object';\n  }\n\n  defineProperties(ArrayPrototype, {\n    reduce: function reduce(callbackfn\n    /*, initialValue*/\n    ) {\n      var object = ES.ToObject(this);\n      var self = splitString && isString(this) ? strSplit(this, '') : object;\n      var length = ES.ToUint32(self.length); // If no callback function or if callback is not a callable function\n\n      if (!isCallable(callbackfn)) {\n        throw new TypeError('Array.prototype.reduce callback must be a function');\n      } // no value to return if no initial value and an empty array\n\n\n      if (length === 0 && arguments.length === 1) {\n        throw new TypeError('reduce of empty array with no initial value');\n      }\n\n      var i = 0;\n      var result;\n\n      if (arguments.length >= 2) {\n        result = arguments[1];\n      } else {\n        do {\n          if (i in self) {\n            result = self[i++];\n            break;\n          } // if array contains no values, no initial value to return\n\n\n          if (++i >= length) {\n            throw new TypeError('reduce of empty array with no initial value');\n          }\n        } while (true);\n      }\n\n      for (; i < length; i++) {\n        if (i in self) {\n          result = callbackfn(result, self[i], i, object);\n        }\n      }\n\n      return result;\n    }\n  }, !reduceCoercesToObject); // ES5 15.4.4.22\n  // https://es5.github.io/#x15.4.4.22\n  // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\n\n  var reduceRightCoercesToObject = false;\n\n  if (ArrayPrototype.reduceRight) {\n    reduceRightCoercesToObject = typeof ArrayPrototype.reduceRight.call('es5', function (_, __, ___, list) {\n      return list;\n    }) === 'object';\n  }\n\n  defineProperties(ArrayPrototype, {\n    reduceRight: function reduceRight(callbackfn\n    /*, initial*/\n    ) {\n      var object = ES.ToObject(this);\n      var self = splitString && isString(this) ? strSplit(this, '') : object;\n      var length = ES.ToUint32(self.length); // If no callback function or if callback is not a callable function\n\n      if (!isCallable(callbackfn)) {\n        throw new TypeError('Array.prototype.reduceRight callback must be a function');\n      } // no value to return if no initial value, empty array\n\n\n      if (length === 0 && arguments.length === 1) {\n        throw new TypeError('reduceRight of empty array with no initial value');\n      }\n\n      var result;\n      var i = length - 1;\n\n      if (arguments.length >= 2) {\n        result = arguments[1];\n      } else {\n        do {\n          if (i in self) {\n            result = self[i--];\n            break;\n          } // if array contains no values, no initial value to return\n\n\n          if (--i < 0) {\n            throw new TypeError('reduceRight of empty array with no initial value');\n          }\n        } while (true);\n      }\n\n      if (i < 0) {\n        return result;\n      }\n\n      do {\n        if (i in self) {\n          result = callbackfn(result, self[i], i, object);\n        }\n      } while (i--);\n\n      return result;\n    }\n  }, !reduceRightCoercesToObject); // ES5 15.4.4.14\n  // https://es5.github.io/#x15.4.4.14\n  // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\n\n  var hasFirefox2IndexOfBug = ArrayPrototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\n  defineProperties(ArrayPrototype, {\n    indexOf: function indexOf(searchElement\n    /*, fromIndex */\n    ) {\n      var self = splitString && isString(this) ? strSplit(this, '') : ES.ToObject(this);\n      var length = ES.ToUint32(self.length);\n\n      if (length === 0) {\n        return -1;\n      }\n\n      var i = 0;\n\n      if (arguments.length > 1) {\n        i = ES.ToInteger(arguments[1]);\n      } // handle negative indices\n\n\n      i = i >= 0 ? i : max(0, length + i);\n\n      for (; i < length; i++) {\n        if (i in self && self[i] === searchElement) {\n          return i;\n        }\n      }\n\n      return -1;\n    }\n  }, hasFirefox2IndexOfBug); // ES5 15.4.4.15\n  // https://es5.github.io/#x15.4.4.15\n  // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\n\n  var hasFirefox2LastIndexOfBug = ArrayPrototype.lastIndexOf && [0, 1].lastIndexOf(0, -3) !== -1;\n  defineProperties(ArrayPrototype, {\n    lastIndexOf: function lastIndexOf(searchElement\n    /*, fromIndex */\n    ) {\n      var self = splitString && isString(this) ? strSplit(this, '') : ES.ToObject(this);\n      var length = ES.ToUint32(self.length);\n\n      if (length === 0) {\n        return -1;\n      }\n\n      var i = length - 1;\n\n      if (arguments.length > 1) {\n        i = min(i, ES.ToInteger(arguments[1]));\n      } // handle negative indices\n\n\n      i = i >= 0 ? i : length - abs(i);\n\n      for (; i >= 0; i--) {\n        if (i in self && searchElement === self[i]) {\n          return i;\n        }\n      }\n\n      return -1;\n    }\n  }, hasFirefox2LastIndexOfBug); // ES5 15.4.4.12\n  // https://es5.github.io/#x15.4.4.12\n\n  var spliceNoopReturnsEmptyArray = function () {\n    var a = [1, 2];\n    var result = a.splice();\n    return a.length === 2 && isArray(result) && result.length === 0;\n  }();\n\n  defineProperties(ArrayPrototype, {\n    // Safari 5.0 bug where .splice() returns undefined\n    splice: function splice(start, deleteCount) {\n      if (arguments.length === 0) {\n        return [];\n      }\n\n      return array_splice.apply(this, arguments);\n    }\n  }, !spliceNoopReturnsEmptyArray);\n\n  var spliceWorksWithEmptyObject = function () {\n    var obj = {};\n    ArrayPrototype.splice.call(obj, 0, 0, 1);\n    return obj.length === 1;\n  }();\n\n  var hasES6Defaults = [0, 1, 2].splice(0).length === 3;\n  defineProperties(ArrayPrototype, {\n    splice: function splice(start, deleteCount) {\n      if (arguments.length === 0) {\n        return [];\n      }\n\n      var args = arguments;\n      this.length = max(ES.ToInteger(this.length), 0);\n\n      if (arguments.length > 0 && typeof deleteCount !== 'number') {\n        args = arraySlice(arguments);\n\n        if (args.length < 2) {\n          pushCall(args, this.length - start);\n        } else {\n          args[1] = ES.ToInteger(deleteCount);\n        }\n      }\n\n      return array_splice.apply(this, args);\n    }\n  }, !spliceWorksWithEmptyObject || !hasES6Defaults);\n\n  var spliceWorksWithLargeSparseArrays = function () {\n    // Per https://github.com/es-shims/es5-shim/issues/295\n    // Safari 7/8 breaks with sparse arrays of size 1e5 or greater\n    var arr = new $Array(1e5); // note: the index MUST be 8 or larger or the test will false pass\n\n    arr[8] = 'x';\n    arr.splice(1, 1); // note: this test must be defined *after* the indexOf shim\n    // per https://github.com/es-shims/es5-shim/issues/313\n\n    return arr.indexOf('x') === 7;\n  }();\n\n  var spliceWorksWithSmallSparseArrays = function () {\n    // Per https://github.com/es-shims/es5-shim/issues/295\n    // Opera 12.15 breaks on this, no idea why.\n    var n = 256;\n    var arr = [];\n    arr[n] = 'a';\n    arr.splice(n + 1, 0, 'b');\n    return arr[n] === 'a';\n  }();\n\n  defineProperties(ArrayPrototype, {\n    splice: function splice(start, deleteCount) {\n      var O = ES.ToObject(this);\n      var A = [];\n      var len = ES.ToUint32(O.length);\n      var relativeStart = ES.ToInteger(start);\n      var actualStart = relativeStart < 0 ? max(len + relativeStart, 0) : min(relativeStart, len);\n      var actualDeleteCount = arguments.length === 0 ? 0 : arguments.length === 1 ? len - actualStart : min(max(ES.ToInteger(deleteCount), 0), len - actualStart);\n      var k = 0;\n      var from;\n\n      while (k < actualDeleteCount) {\n        from = $String(actualStart + k);\n\n        if (owns(O, from)) {\n          A[k] = O[from];\n        }\n\n        k += 1;\n      }\n\n      var items = arraySlice(arguments, 2);\n      var itemCount = items.length;\n      var to;\n\n      if (itemCount < actualDeleteCount) {\n        k = actualStart;\n        var maxK = len - actualDeleteCount;\n\n        while (k < maxK) {\n          from = $String(k + actualDeleteCount);\n          to = $String(k + itemCount);\n\n          if (owns(O, from)) {\n            O[to] = O[from];\n          } else {\n            delete O[to];\n          }\n\n          k += 1;\n        }\n\n        k = len;\n        var minK = len - actualDeleteCount + itemCount;\n\n        while (k > minK) {\n          delete O[k - 1];\n          k -= 1;\n        }\n      } else if (itemCount > actualDeleteCount) {\n        k = len - actualDeleteCount;\n\n        while (k > actualStart) {\n          from = $String(k + actualDeleteCount - 1);\n          to = $String(k + itemCount - 1);\n\n          if (owns(O, from)) {\n            O[to] = O[from];\n          } else {\n            delete O[to];\n          }\n\n          k -= 1;\n        }\n      }\n\n      k = actualStart;\n\n      for (var i = 0; i < items.length; ++i) {\n        O[k] = items[i];\n        k += 1;\n      }\n\n      O.length = len - actualDeleteCount + itemCount;\n      return A;\n    }\n  }, !spliceWorksWithLargeSparseArrays || !spliceWorksWithSmallSparseArrays);\n  var originalJoin = ArrayPrototype.join;\n  var hasStringJoinBug;\n\n  try {\n    hasStringJoinBug = Array.prototype.join.call('123', ',') !== '1,2,3';\n  } catch (e) {\n    hasStringJoinBug = true;\n  }\n\n  if (hasStringJoinBug) {\n    defineProperties(ArrayPrototype, {\n      join: function join(separator) {\n        var sep = typeof separator === 'undefined' ? ',' : separator;\n        return originalJoin.call(isString(this) ? strSplit(this, '') : this, sep);\n      }\n    }, hasStringJoinBug);\n  }\n\n  var hasJoinUndefinedBug = [1, 2].join(undefined) !== '1,2';\n\n  if (hasJoinUndefinedBug) {\n    defineProperties(ArrayPrototype, {\n      join: function join(separator) {\n        var sep = typeof separator === 'undefined' ? ',' : separator;\n        return originalJoin.call(this, sep);\n      }\n    }, hasJoinUndefinedBug);\n  }\n\n  var pushShim = function push(item) {\n    var O = ES.ToObject(this);\n    var n = ES.ToUint32(O.length);\n    var i = 0;\n\n    while (i < arguments.length) {\n      O[n + i] = arguments[i];\n      i += 1;\n    }\n\n    O.length = n + i;\n    return n + i;\n  };\n\n  var pushIsNotGeneric = function () {\n    var obj = {};\n    var result = Array.prototype.push.call(obj, undefined);\n    return result !== 1 || obj.length !== 1 || typeof obj[0] !== 'undefined' || !owns(obj, 0);\n  }();\n\n  defineProperties(ArrayPrototype, {\n    push: function push(item) {\n      if (isArray(this)) {\n        return array_push.apply(this, arguments);\n      }\n\n      return pushShim.apply(this, arguments);\n    }\n  }, pushIsNotGeneric); // This fixes a very weird bug in Opera 10.6 when pushing `undefined\n\n  var pushUndefinedIsWeird = function () {\n    var arr = [];\n    var result = arr.push(undefined);\n    return result !== 1 || arr.length !== 1 || typeof arr[0] !== 'undefined' || !owns(arr, 0);\n  }();\n\n  defineProperties(ArrayPrototype, {\n    push: pushShim\n  }, pushUndefinedIsWeird); // ES5 15.2.3.14\n  // https://es5.github.io/#x15.4.4.10\n  // Fix boxed string bug\n\n  defineProperties(ArrayPrototype, {\n    slice: function (start, end) {\n      var arr = isString(this) ? strSplit(this, '') : this;\n      return arraySliceApply(arr, arguments);\n    }\n  }, splitString);\n\n  var sortIgnoresNonFunctions = function () {\n    try {\n      [1, 2].sort(null);\n    } catch (e) {\n      try {\n        [1, 2].sort({});\n      } catch (e2) {\n        return false;\n      }\n    }\n\n    return true;\n  }();\n\n  var sortThrowsOnRegex = function () {\n    // this is a problem in Firefox 4, in which `typeof /a/ === 'function'`\n    try {\n      [1, 2].sort(/a/);\n      return false;\n    } catch (e) {}\n\n    return true;\n  }();\n\n  var sortIgnoresUndefined = function () {\n    // applies in IE 8, for one.\n    try {\n      [1, 2].sort(undefined);\n      return true;\n    } catch (e) {}\n\n    return false;\n  }();\n\n  defineProperties(ArrayPrototype, {\n    sort: function sort(compareFn) {\n      if (typeof compareFn === 'undefined') {\n        return arraySort(this);\n      }\n\n      if (!isCallable(compareFn)) {\n        throw new TypeError('Array.prototype.sort callback must be a function');\n      }\n\n      return arraySort(this, compareFn);\n    }\n  }, sortIgnoresNonFunctions || !sortIgnoresUndefined || !sortThrowsOnRegex); //\n  // Object\n  // ======\n  //\n  // ES5 15.2.3.14\n  // https://es5.github.io/#x15.2.3.14\n  // https://web.archive.org/web/20140727042234/http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n  // eslint-disable-next-line quote-props\n\n  var hasDontEnumBug = !isEnum({\n    'toString': null\n  }, 'toString'); // jscs:ignore disallowQuotedKeysInObjects\n\n  var hasProtoEnumBug = isEnum(function () {}, 'prototype');\n  var hasStringEnumBug = !owns('x', '0');\n\n  var equalsConstructorPrototype = function (o) {\n    var ctor = o.constructor;\n    return ctor && ctor.prototype === o;\n  };\n\n  var excludedKeys = {\n    $applicationCache: true,\n    $console: true,\n    $external: true,\n    $frame: true,\n    $frameElement: true,\n    $frames: true,\n    $innerHeight: true,\n    $innerWidth: true,\n    $onmozfullscreenchange: true,\n    $onmozfullscreenerror: true,\n    $outerHeight: true,\n    $outerWidth: true,\n    $pageXOffset: true,\n    $pageYOffset: true,\n    $parent: true,\n    $scrollLeft: true,\n    $scrollTop: true,\n    $scrollX: true,\n    $scrollY: true,\n    $self: true,\n    $webkitIndexedDB: true,\n    $webkitStorageInfo: true,\n    $window: true,\n    $width: true,\n    $height: true,\n    $top: true,\n    $localStorage: true\n  };\n\n  var hasAutomationEqualityBug = function () {\n    /* globals window */\n    if (typeof window === 'undefined') {\n      return false;\n    }\n\n    for (var k in window) {\n      try {\n        if (!excludedKeys['$' + k] && owns(window, k) && window[k] !== null && typeof window[k] === 'object') {\n          equalsConstructorPrototype(window[k]);\n        }\n      } catch (e) {\n        return true;\n      }\n    }\n\n    return false;\n  }();\n\n  var equalsConstructorPrototypeIfNotBuggy = function (object) {\n    if (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n      return equalsConstructorPrototype(object);\n    }\n\n    try {\n      return equalsConstructorPrototype(object);\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'];\n  var dontEnumsLength = dontEnums.length; // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n  // can be replaced with require('is-arguments') if we ever use a build process instead\n\n  var isStandardArguments = function isArguments(value) {\n    return toStr(value) === '[object Arguments]';\n  };\n\n  var isLegacyArguments = function isArguments(value) {\n    return value !== null && typeof value === 'object' && typeof value.length === 'number' && value.length >= 0 && !isArray(value) && isCallable(value.callee);\n  };\n\n  var isArguments = isStandardArguments(arguments) ? isStandardArguments : isLegacyArguments;\n  defineProperties($Object, {\n    keys: function keys(object) {\n      var isFn = isCallable(object);\n      var isArgs = isArguments(object);\n      var isObject = object !== null && typeof object === 'object';\n      var isStr = isObject && isString(object);\n\n      if (!isObject && !isFn && !isArgs) {\n        throw new TypeError('Object.keys called on a non-object');\n      }\n\n      var theKeys = [];\n      var skipProto = hasProtoEnumBug && isFn;\n\n      if (isStr && hasStringEnumBug || isArgs) {\n        for (var i = 0; i < object.length; ++i) {\n          pushCall(theKeys, $String(i));\n        }\n      }\n\n      if (!isArgs) {\n        for (var name in object) {\n          if (!(skipProto && name === 'prototype') && owns(object, name)) {\n            pushCall(theKeys, $String(name));\n          }\n        }\n      }\n\n      if (hasDontEnumBug) {\n        var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n        for (var j = 0; j < dontEnumsLength; j++) {\n          var dontEnum = dontEnums[j];\n\n          if (!(skipConstructor && dontEnum === 'constructor') && owns(object, dontEnum)) {\n            pushCall(theKeys, dontEnum);\n          }\n        }\n      }\n\n      return theKeys;\n    }\n  });\n\n  var keysWorksWithArguments = $Object.keys && function () {\n    // Safari 5.0 bug\n    return $Object.keys(arguments).length === 2;\n  }(1, 2);\n\n  var keysHasArgumentsLengthBug = $Object.keys && function () {\n    var argKeys = $Object.keys(arguments);\n    return arguments.length !== 1 || argKeys.length !== 1 || argKeys[0] !== 1;\n  }(1);\n\n  var originalKeys = $Object.keys;\n  defineProperties($Object, {\n    keys: function keys(object) {\n      if (isArguments(object)) {\n        return originalKeys(arraySlice(object));\n      }\n\n      return originalKeys(object);\n    }\n  }, !keysWorksWithArguments || keysHasArgumentsLengthBug); //\n  // Date\n  // ====\n  //\n\n  var hasNegativeMonthYearBug = new Date(-3509827329600292).getUTCMonth() !== 0;\n  var aNegativeTestDate = new Date(-1509842289600292);\n  var aPositiveTestDate = new Date(1449662400000);\n  var hasToUTCStringFormatBug = aNegativeTestDate.toUTCString() !== 'Mon, 01 Jan -45875 11:59:59 GMT';\n  var hasToDateStringFormatBug;\n  var hasToStringFormatBug;\n  var timeZoneOffset = aNegativeTestDate.getTimezoneOffset();\n\n  if (timeZoneOffset < -720) {\n    hasToDateStringFormatBug = aNegativeTestDate.toDateString() !== 'Tue Jan 02 -45875';\n    hasToStringFormatBug = !/^Thu Dec 10 2015 \\d\\d:\\d\\d:\\d\\d GMT[-+]\\d\\d\\d\\d(?: |$)/.test(String(aPositiveTestDate));\n  } else {\n    hasToDateStringFormatBug = aNegativeTestDate.toDateString() !== 'Mon Jan 01 -45875';\n    hasToStringFormatBug = !/^Wed Dec 09 2015 \\d\\d:\\d\\d:\\d\\d GMT[-+]\\d\\d\\d\\d(?: |$)/.test(String(aPositiveTestDate));\n  }\n\n  var originalGetFullYear = call.bind(Date.prototype.getFullYear);\n  var originalGetMonth = call.bind(Date.prototype.getMonth);\n  var originalGetDate = call.bind(Date.prototype.getDate);\n  var originalGetUTCFullYear = call.bind(Date.prototype.getUTCFullYear);\n  var originalGetUTCMonth = call.bind(Date.prototype.getUTCMonth);\n  var originalGetUTCDate = call.bind(Date.prototype.getUTCDate);\n  var originalGetUTCDay = call.bind(Date.prototype.getUTCDay);\n  var originalGetUTCHours = call.bind(Date.prototype.getUTCHours);\n  var originalGetUTCMinutes = call.bind(Date.prototype.getUTCMinutes);\n  var originalGetUTCSeconds = call.bind(Date.prototype.getUTCSeconds);\n  var originalGetUTCMilliseconds = call.bind(Date.prototype.getUTCMilliseconds);\n  var dayName = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  var monthName = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n  var daysInMonth = function daysInMonth(month, year) {\n    return originalGetDate(new Date(year, month, 0));\n  };\n\n  defineProperties(Date.prototype, {\n    getFullYear: function getFullYear() {\n      if (!this || !(this instanceof Date)) {\n        throw new TypeError('this is not a Date object.');\n      }\n\n      var year = originalGetFullYear(this);\n\n      if (year < 0 && originalGetMonth(this) > 11) {\n        return year + 1;\n      }\n\n      return year;\n    },\n    getMonth: function getMonth() {\n      if (!this || !(this instanceof Date)) {\n        throw new TypeError('this is not a Date object.');\n      }\n\n      var year = originalGetFullYear(this);\n      var month = originalGetMonth(this);\n\n      if (year < 0 && month > 11) {\n        return 0;\n      }\n\n      return month;\n    },\n    getDate: function getDate() {\n      if (!this || !(this instanceof Date)) {\n        throw new TypeError('this is not a Date object.');\n      }\n\n      var year = originalGetFullYear(this);\n      var month = originalGetMonth(this);\n      var date = originalGetDate(this);\n\n      if (year < 0 && month > 11) {\n        if (month === 12) {\n          return date;\n        }\n\n        var days = daysInMonth(0, year + 1);\n        return days - date + 1;\n      }\n\n      return date;\n    },\n    getUTCFullYear: function getUTCFullYear() {\n      if (!this || !(this instanceof Date)) {\n        throw new TypeError('this is not a Date object.');\n      }\n\n      var year = originalGetUTCFullYear(this);\n\n      if (year < 0 && originalGetUTCMonth(this) > 11) {\n        return year + 1;\n      }\n\n      return year;\n    },\n    getUTCMonth: function getUTCMonth() {\n      if (!this || !(this instanceof Date)) {\n        throw new TypeError('this is not a Date object.');\n      }\n\n      var year = originalGetUTCFullYear(this);\n      var month = originalGetUTCMonth(this);\n\n      if (year < 0 && month > 11) {\n        return 0;\n      }\n\n      return month;\n    },\n    getUTCDate: function getUTCDate() {\n      if (!this || !(this instanceof Date)) {\n        throw new TypeError('this is not a Date object.');\n      }\n\n      var year = originalGetUTCFullYear(this);\n      var month = originalGetUTCMonth(this);\n      var date = originalGetUTCDate(this);\n\n      if (year < 0 && month > 11) {\n        if (month === 12) {\n          return date;\n        }\n\n        var days = daysInMonth(0, year + 1);\n        return days - date + 1;\n      }\n\n      return date;\n    }\n  }, hasNegativeMonthYearBug);\n  defineProperties(Date.prototype, {\n    toUTCString: function toUTCString() {\n      if (!this || !(this instanceof Date)) {\n        throw new TypeError('this is not a Date object.');\n      }\n\n      var day = originalGetUTCDay(this);\n      var date = originalGetUTCDate(this);\n      var month = originalGetUTCMonth(this);\n      var year = originalGetUTCFullYear(this);\n      var hour = originalGetUTCHours(this);\n      var minute = originalGetUTCMinutes(this);\n      var second = originalGetUTCSeconds(this);\n      return dayName[day] + ', ' + (date < 10 ? '0' + date : date) + ' ' + monthName[month] + ' ' + year + ' ' + (hour < 10 ? '0' + hour : hour) + ':' + (minute < 10 ? '0' + minute : minute) + ':' + (second < 10 ? '0' + second : second) + ' GMT';\n    }\n  }, hasNegativeMonthYearBug || hasToUTCStringFormatBug); // Opera 12 has `,`\n\n  defineProperties(Date.prototype, {\n    toDateString: function toDateString() {\n      if (!this || !(this instanceof Date)) {\n        throw new TypeError('this is not a Date object.');\n      }\n\n      var day = this.getDay();\n      var date = this.getDate();\n      var month = this.getMonth();\n      var year = this.getFullYear();\n      return dayName[day] + ' ' + monthName[month] + ' ' + (date < 10 ? '0' + date : date) + ' ' + year;\n    }\n  }, hasNegativeMonthYearBug || hasToDateStringFormatBug); // can't use defineProperties here because of toString enumeration issue in IE <= 8\n\n  if (hasNegativeMonthYearBug || hasToStringFormatBug) {\n    Date.prototype.toString = function toString() {\n      if (!this || !(this instanceof Date)) {\n        throw new TypeError('this is not a Date object.');\n      }\n\n      var day = this.getDay();\n      var date = this.getDate();\n      var month = this.getMonth();\n      var year = this.getFullYear();\n      var hour = this.getHours();\n      var minute = this.getMinutes();\n      var second = this.getSeconds();\n      var timezoneOffset = this.getTimezoneOffset();\n      var hoursOffset = floor(abs(timezoneOffset) / 60);\n      var minutesOffset = floor(abs(timezoneOffset) % 60);\n      return dayName[day] + ' ' + monthName[month] + ' ' + (date < 10 ? '0' + date : date) + ' ' + year + ' ' + (hour < 10 ? '0' + hour : hour) + ':' + (minute < 10 ? '0' + minute : minute) + ':' + (second < 10 ? '0' + second : second) + ' GMT' + (timezoneOffset > 0 ? '-' : '+') + (hoursOffset < 10 ? '0' + hoursOffset : hoursOffset) + (minutesOffset < 10 ? '0' + minutesOffset : minutesOffset);\n    };\n\n    if (supportsDescriptors) {\n      $Object.defineProperty(Date.prototype, 'toString', {\n        configurable: true,\n        enumerable: false,\n        writable: true\n      });\n    }\n  } // ES5 15.9.5.43\n  // https://es5.github.io/#x15.9.5.43\n  // This function returns a String value represent the instance in time\n  // represented by this Date object. The format of the String is the Date Time\n  // string format defined in 15.9.1.15. All fields are present in the String.\n  // The time zone is always UTC, denoted by the suffix Z. If the time value of\n  // this object is not a finite Number a RangeError exception is thrown.\n\n\n  var negativeDate = -62198755200000;\n  var negativeYearString = '-000001';\n  var hasNegativeDateBug = Date.prototype.toISOString && new Date(negativeDate).toISOString().indexOf(negativeYearString) === -1; // eslint-disable-line max-len\n\n  var hasSafari51DateBug = Date.prototype.toISOString && new Date(-1).toISOString() !== '1969-12-31T23:59:59.999Z';\n  var getTime = call.bind(Date.prototype.getTime);\n  defineProperties(Date.prototype, {\n    toISOString: function toISOString() {\n      if (!isFinite(this) || !isFinite(getTime(this))) {\n        // Adope Photoshop requires the second check.\n        throw new RangeError('Date.prototype.toISOString called on non-finite value.');\n      }\n\n      var year = originalGetUTCFullYear(this);\n      var month = originalGetUTCMonth(this); // see https://github.com/es-shims/es5-shim/issues/111\n\n      year += floor(month / 12);\n      month = (month % 12 + 12) % 12; // the date time string format is specified in 15.9.1.15.\n\n      var result = [month + 1, originalGetUTCDate(this), originalGetUTCHours(this), originalGetUTCMinutes(this), originalGetUTCSeconds(this)];\n      year = (year < 0 ? '-' : year > 9999 ? '+' : '') + strSlice('00000' + abs(year), 0 <= year && year <= 9999 ? -4 : -6);\n\n      for (var i = 0; i < result.length; ++i) {\n        // pad months, days, hours, minutes, and seconds to have two digits.\n        result[i] = strSlice('00' + result[i], -2);\n      } // pad milliseconds to have three digits.\n\n\n      return year + '-' + arraySlice(result, 0, 2).join('-') + 'T' + arraySlice(result, 2).join(':') + '.' + strSlice('000' + originalGetUTCMilliseconds(this), -3) + 'Z';\n    }\n  }, hasNegativeDateBug || hasSafari51DateBug); // ES5 15.9.5.44\n  // https://es5.github.io/#x15.9.5.44\n  // This function provides a String representation of a Date object for use by\n  // JSON.stringify (15.12.3).\n\n  var dateToJSONIsSupported = function () {\n    try {\n      return Date.prototype.toJSON && new Date(NaN).toJSON() === null && new Date(negativeDate).toJSON().indexOf(negativeYearString) !== -1 && Date.prototype.toJSON.call({\n        // generic\n        toISOString: function () {\n          return true;\n        }\n      });\n    } catch (e) {\n      return false;\n    }\n  }();\n\n  if (!dateToJSONIsSupported) {\n    Date.prototype.toJSON = function toJSON(key) {\n      // When the toJSON method is called with argument key, the following\n      // steps are taken:\n      // 1.  Let O be the result of calling ToObject, giving it the this\n      // value as its argument.\n      // 2. Let tv be ES.ToPrimitive(O, hint Number).\n      var O = $Object(this);\n      var tv = ES.ToPrimitive(O); // 3. If tv is a Number and is not finite, return null.\n\n      if (typeof tv === 'number' && !isFinite(tv)) {\n        return null;\n      } // 4. Let toISO be the result of calling the [[Get]] internal method of\n      // O with argument \"toISOString\".\n\n\n      var toISO = O.toISOString; // 5. If IsCallable(toISO) is false, throw a TypeError exception.\n\n      if (!isCallable(toISO)) {\n        throw new TypeError('toISOString property is not callable');\n      } // 6. Return the result of calling the [[Call]] internal method of\n      //  toISO with O as the this value and an empty argument list.\n\n\n      return toISO.call(O); // NOTE 1 The argument is ignored.\n      // NOTE 2 The toJSON function is intentionally generic; it does not\n      // require that its this value be a Date object. Therefore, it can be\n      // transferred to other kinds of objects for use as a method. However,\n      // it does require that any such object have a toISOString method. An\n      // object is free to use the argument key to filter its\n      // stringification.\n    };\n  } // ES5 15.9.4.2\n  // https://es5.github.io/#x15.9.4.2\n  // based on work shared by Daniel Friesen (dantman)\n  // https://gist.github.com/303249\n\n\n  var supportsExtendedYears = Date.parse('+033658-09-27T01:46:40.000Z') === 1e15;\n  var acceptsInvalidDates = !isNaN(Date.parse('2012-04-04T24:00:00.500Z')) || !isNaN(Date.parse('2012-11-31T23:59:59.000Z')) || !isNaN(Date.parse('2012-12-31T23:59:60.000Z'));\n  var doesNotParseY2KNewYear = isNaN(Date.parse('2000-01-01T00:00:00.000Z'));\n\n  if (doesNotParseY2KNewYear || acceptsInvalidDates || !supportsExtendedYears) {\n    // XXX global assignment won't work in embeddings that use\n    // an alternate object for the context.\n    var maxSafeUnsigned32Bit = pow(2, 31) - 1;\n    var hasSafariSignedIntBug = isActualNaN(new Date(1970, 0, 1, 0, 0, 0, maxSafeUnsigned32Bit + 1).getTime()); // eslint-disable-next-line no-implicit-globals, no-global-assign\n\n    Date = function (NativeDate) {\n      // Date.length === 7\n      var DateShim = function Date(Y, M, D, h, m, s, ms) {\n        var length = arguments.length;\n        var date;\n\n        if (this instanceof NativeDate) {\n          var seconds = s;\n          var millis = ms;\n\n          if (hasSafariSignedIntBug && length >= 7 && ms > maxSafeUnsigned32Bit) {\n            // work around a Safari 8/9 bug where it treats the seconds as signed\n            var msToShift = floor(ms / maxSafeUnsigned32Bit) * maxSafeUnsigned32Bit;\n            var sToShift = floor(msToShift / 1e3);\n            seconds += sToShift;\n            millis -= sToShift * 1e3;\n          }\n\n          var parsed = DateShim.parse(Y);\n          var hasNegTimestampParseBug = isNaN(parsed);\n          date = length === 1 && $String(Y) === Y && !hasNegTimestampParseBug // isString(Y)\n          // We explicitly pass it through parse:\n          ? new NativeDate(parsed) // We have to manually make calls depending on argument\n          // length here\n          : length >= 7 ? new NativeDate(Y, M, D, h, m, seconds, millis) : length >= 6 ? new NativeDate(Y, M, D, h, m, seconds) : length >= 5 ? new NativeDate(Y, M, D, h, m) : length >= 4 ? new NativeDate(Y, M, D, h) : length >= 3 ? new NativeDate(Y, M, D) : length >= 2 ? new NativeDate(Y, M) : length >= 1 ? new NativeDate(Y instanceof NativeDate ? +Y : Y) : new NativeDate();\n        } else {\n          date = NativeDate.apply(this, arguments);\n        }\n\n        if (!isPrimitive(date)) {\n          // Prevent mixups with unfixed Date object\n          defineProperties(date, {\n            constructor: DateShim\n          }, true);\n        }\n\n        return date;\n      }; // 15.9.1.15 Date Time String Format.\n\n\n      var isoDateExpression = new RegExp('^' + '(\\\\d{4}|[+-]\\\\d{6})' // four-digit year capture or sign + 6-digit extended year\n      + '(?:-(\\\\d{2})' // optional month capture\n      + '(?:-(\\\\d{2})' // optional day capture\n      + '(?:' // capture hours:minutes:seconds.milliseconds\n      + 'T(\\\\d{2})' // hours capture\n      + ':(\\\\d{2})' // minutes capture\n      + '(?:' // optional :seconds.milliseconds\n      + ':(\\\\d{2})' // seconds capture\n      + '(?:(\\\\.\\\\d{1,}))?' // milliseconds capture\n      + ')?' + '(' // capture UTC offset component\n      + 'Z|' // UTC capture\n      + '(?:' // offset specifier +/-hours:minutes\n      + '([-+])' // sign capture\n      + '(\\\\d{2})' // hours offset capture\n      + ':(\\\\d{2})' // minutes offset capture\n      + ')' + ')?)?)?)?' + '$');\n      var months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\n\n      var dayFromMonth = function dayFromMonth(year, month) {\n        var t = month > 1 ? 1 : 0;\n        return months[month] + floor((year - 1969 + t) / 4) - floor((year - 1901 + t) / 100) + floor((year - 1601 + t) / 400) + 365 * (year - 1970);\n      };\n\n      var toUTC = function toUTC(t) {\n        var s = 0;\n        var ms = t;\n\n        if (hasSafariSignedIntBug && ms > maxSafeUnsigned32Bit) {\n          // work around a Safari 8/9 bug where it treats the seconds as signed\n          var msToShift = floor(ms / maxSafeUnsigned32Bit) * maxSafeUnsigned32Bit;\n          var sToShift = floor(msToShift / 1e3);\n          s += sToShift;\n          ms -= sToShift * 1e3;\n        }\n\n        return $Number(new NativeDate(1970, 0, 1, 0, 0, s, ms));\n      }; // Copy any custom methods a 3rd party library may have added\n\n\n      for (var key in NativeDate) {\n        if (owns(NativeDate, key)) {\n          DateShim[key] = NativeDate[key];\n        }\n      } // Copy \"native\" methods explicitly; they may be non-enumerable\n\n\n      defineProperties(DateShim, {\n        now: NativeDate.now,\n        UTC: NativeDate.UTC\n      }, true);\n      DateShim.prototype = NativeDate.prototype;\n      defineProperties(DateShim.prototype, {\n        constructor: DateShim\n      }, true); // Upgrade Date.parse to handle simplified ISO 8601 strings\n\n      var parseShim = function parse(string) {\n        var match = isoDateExpression.exec(string);\n\n        if (match) {\n          // parse months, days, hours, minutes, seconds, and milliseconds\n          // provide default values if necessary\n          // parse the UTC offset component\n          var year = $Number(match[1]),\n              month = $Number(match[2] || 1) - 1,\n              day = $Number(match[3] || 1) - 1,\n              hour = $Number(match[4] || 0),\n              minute = $Number(match[5] || 0),\n              second = $Number(match[6] || 0),\n              millisecond = floor($Number(match[7] || 0) * 1000),\n              // When time zone is missed, local offset should be used\n          // (ES 5.1 bug)\n          // see https://bugs.ecmascript.org/show_bug.cgi?id=112\n          isLocalTime = Boolean(match[4] && !match[8]),\n              signOffset = match[9] === '-' ? 1 : -1,\n              hourOffset = $Number(match[10] || 0),\n              minuteOffset = $Number(match[11] || 0),\n              result;\n          var hasMinutesOrSecondsOrMilliseconds = minute > 0 || second > 0 || millisecond > 0;\n\n          if (hour < (hasMinutesOrSecondsOrMilliseconds ? 24 : 25) && minute < 60 && second < 60 && millisecond < 1000 && month > -1 && month < 12 && hourOffset < 24 && minuteOffset < 60 // detect invalid offsets\n          && day > -1 && day < dayFromMonth(year, month + 1) - dayFromMonth(year, month)) {\n            result = ((dayFromMonth(year, month) + day) * 24 + hour + hourOffset * signOffset) * 60;\n            result = ((result + minute + minuteOffset * signOffset) * 60 + second) * 1000 + millisecond;\n\n            if (isLocalTime) {\n              result = toUTC(result);\n            }\n\n            if (-8.64e15 <= result && result <= 8.64e15) {\n              return result;\n            }\n          }\n\n          return NaN;\n        }\n\n        return NativeDate.parse.apply(this, arguments);\n      };\n\n      defineProperties(DateShim, {\n        parse: parseShim\n      });\n      return DateShim;\n    }(Date);\n  } // ES5 15.9.4.4\n  // https://es5.github.io/#x15.9.4.4\n\n\n  if (!Date.now) {\n    Date.now = function now() {\n      return new Date().getTime();\n    };\n  } //\n  // Number\n  // ======\n  //\n  // ES5.1 15.7.4.5\n  // https://es5.github.io/#x15.7.4.5\n\n\n  var hasToFixedBugs = NumberPrototype.toFixed && (0.00008.toFixed(3) !== '0.000' || 0.9.toFixed(0) !== '1' || 1.255.toFixed(2) !== '1.25' || 1000000000000000128 .toFixed(0) !== '1000000000000000128');\n  var toFixedHelpers = {\n    base: 1e7,\n    size: 6,\n    data: [0, 0, 0, 0, 0, 0],\n    multiply: function multiply(n, c) {\n      var i = -1;\n      var c2 = c;\n\n      while (++i < toFixedHelpers.size) {\n        c2 += n * toFixedHelpers.data[i];\n        toFixedHelpers.data[i] = c2 % toFixedHelpers.base;\n        c2 = floor(c2 / toFixedHelpers.base);\n      }\n    },\n    divide: function divide(n) {\n      var i = toFixedHelpers.size;\n      var c = 0;\n\n      while (--i >= 0) {\n        c += toFixedHelpers.data[i];\n        toFixedHelpers.data[i] = floor(c / n);\n        c = c % n * toFixedHelpers.base;\n      }\n    },\n    numToString: function numToString() {\n      var i = toFixedHelpers.size;\n      var s = '';\n\n      while (--i >= 0) {\n        if (s !== '' || i === 0 || toFixedHelpers.data[i] !== 0) {\n          var t = $String(toFixedHelpers.data[i]);\n\n          if (s === '') {\n            s = t;\n          } else {\n            s += strSlice('0000000', 0, 7 - t.length) + t;\n          }\n        }\n      }\n\n      return s;\n    },\n    pow: function pow(x, n, acc) {\n      return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n    },\n    log: function log(x) {\n      var n = 0;\n      var x2 = x;\n\n      while (x2 >= 4096) {\n        n += 12;\n        x2 /= 4096;\n      }\n\n      while (x2 >= 2) {\n        n += 1;\n        x2 /= 2;\n      }\n\n      return n;\n    }\n  };\n\n  var toFixedShim = function toFixed(fractionDigits) {\n    var f, x, s, m, e, z, j, k; // Test for NaN and round fractionDigits down\n\n    f = $Number(fractionDigits);\n    f = isActualNaN(f) ? 0 : floor(f);\n\n    if (f < 0 || f > 20) {\n      throw new RangeError('Number.toFixed called with invalid number of decimals');\n    }\n\n    x = $Number(this);\n\n    if (isActualNaN(x)) {\n      return 'NaN';\n    } // If it is too big or small, return the string value of the number\n\n\n    if (x <= -1e21 || x >= 1e21) {\n      return $String(x);\n    }\n\n    s = '';\n\n    if (x < 0) {\n      s = '-';\n      x = -x;\n    }\n\n    m = '0';\n\n    if (x > 1e-21) {\n      // 1e-21 < x < 1e21\n      // -70 < log2(x) < 70\n      e = toFixedHelpers.log(x * toFixedHelpers.pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * toFixedHelpers.pow(2, -e, 1) : x / toFixedHelpers.pow(2, e, 1);\n      z *= 0x10000000000000; // pow(2, 52);\n\n      e = 52 - e; // -18 < e < 122\n      // x = z / 2 ^ e\n\n      if (e > 0) {\n        toFixedHelpers.multiply(0, z);\n        j = f;\n\n        while (j >= 7) {\n          toFixedHelpers.multiply(1e7, 0);\n          j -= 7;\n        }\n\n        toFixedHelpers.multiply(toFixedHelpers.pow(10, j, 1), 0);\n        j = e - 1;\n\n        while (j >= 23) {\n          toFixedHelpers.divide(1 << 23);\n          j -= 23;\n        }\n\n        toFixedHelpers.divide(1 << j);\n        toFixedHelpers.multiply(1, 1);\n        toFixedHelpers.divide(2);\n        m = toFixedHelpers.numToString();\n      } else {\n        toFixedHelpers.multiply(0, z);\n        toFixedHelpers.multiply(1 << -e, 0);\n        m = toFixedHelpers.numToString() + strSlice('0.00000000000000000000', 2, 2 + f);\n      }\n    }\n\n    if (f > 0) {\n      k = m.length;\n\n      if (k <= f) {\n        m = s + strSlice('0.0000000000000000000', 0, f - k + 2) + m;\n      } else {\n        m = s + strSlice(m, 0, k - f) + '.' + strSlice(m, k - f);\n      }\n    } else {\n      m = s + m;\n    }\n\n    return m;\n  };\n\n  defineProperties(NumberPrototype, {\n    toFixed: toFixedShim\n  }, hasToFixedBugs);\n\n  var hasToExponentialRoundingBug = function () {\n    try {\n      return (-6.9e-11).toExponential(4) !== '-6.9000e-11';\n    } catch (e) {\n      return false;\n    }\n  }();\n\n  var toExponentialAllowsInfiniteDigits = function () {\n    try {\n      1 .toExponential(Infinity);\n      1 .toExponential(-Infinity);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }();\n\n  var originalToExponential = call.bind(NumberPrototype.toExponential);\n  var numberToString = call.bind(NumberPrototype.toString);\n  var numberValueOf = call.bind(NumberPrototype.valueOf);\n  defineProperties(NumberPrototype, {\n    toExponential: function toExponential(fractionDigits) {\n      // 1: Let x be this Number value.\n      var x = numberValueOf(this);\n\n      if (typeof fractionDigits === 'undefined') {\n        return originalToExponential(x);\n      }\n\n      var f = ES.ToInteger(fractionDigits);\n\n      if (isActualNaN(x)) {\n        return 'NaN';\n      }\n\n      if (f < 0 || f > 20) {\n        if (!isFinite(f)) {\n          // IE 6 doesn't throw in the native one\n          throw new RangeError('toExponential() argument must be between 0 and 20');\n        } // this will probably have thrown already\n\n\n        return originalToExponential(x, f);\n      } // only cases left are a finite receiver + in-range fractionDigits\n      // implementation adapted from https://gist.github.com/SheetJSDev/1100ad56b9f856c95299ed0e068eea08\n      // 4: Let s be the empty string\n\n\n      var s = ''; // 5: If x < 0\n\n      if (x < 0) {\n        s = '-';\n        x = -x;\n      } // 6: If x = +Infinity\n\n\n      if (x === Infinity) {\n        return s + 'Infinity';\n      } // 7: If fractionDigits is not undefined and (f < 0 or f > 20), throw a RangeError exception.\n\n\n      if (typeof fractionDigits !== 'undefined' && (f < 0 || f > 20)) {\n        throw new RangeError('Fraction digits ' + fractionDigits + ' out of range');\n      }\n\n      var m = '';\n      var e = 0;\n      var c = '';\n      var d = ''; // 8: If x = 0 then\n\n      if (x === 0) {\n        e = 0;\n        f = 0;\n        m = '0';\n      } else {\n        // 9: Else, x != 0\n        var L = log10(x);\n        e = floor(L); // 10 ** e <= x and x < 10 ** (e+1)\n\n        var n = 0;\n\n        if (typeof fractionDigits !== 'undefined') {\n          // eslint-disable-line no-negated-condition\n          var w = pow(10, e - f); // x / 10 ** (f+1) < w and w <= x / 10 ** f\n\n          n = round(x / w); // 10 ** f <= n and n < 10 ** (f+1)\n\n          if (2 * x >= (2 * n + 1) * w) {\n            n += 1; // pick larger value\n          }\n\n          if (n >= pow(10, f + 1)) {\n            // 10e-1 = 1e0\n            n /= 10;\n            e += 1;\n          }\n        } else {\n          f = 16; // start from Math.ceil(Math.log10(Number.MAX_SAFE_INTEGER)) and loop down\n\n          var guess_n = round(pow(10, L - e + f));\n          var target_f = f;\n\n          while (f-- > 0) {\n            guess_n = round(pow(10, L - e + f));\n\n            if (abs(guess_n * pow(10, e - f) - x) <= abs(n * pow(10, e - target_f) - x)) {\n              target_f = f;\n              n = guess_n;\n            }\n          }\n        }\n\n        m = numberToString(n, 10);\n\n        if (typeof fractionDigits === 'undefined') {\n          while (strSlice(m, -1) === '0') {\n            m = strSlice(m, 0, -1);\n            d += 1;\n          }\n        }\n      } // 10: If f != 0, then\n\n\n      if (f !== 0) {\n        m = strSlice(m, 0, 1) + '.' + strSlice(m, 1);\n      } // 11: If e = 0, then\n\n\n      if (e === 0) {\n        c = '+';\n        d = '0';\n      } else {\n        // 12: Else\n        c = e > 0 ? '+' : '-';\n        d = numberToString(abs(e), 10);\n      } // 13: Let m be the concatenation of the four Strings m, \"e\", c, and d.\n\n\n      m += 'e' + c + d; // 14: Return the concatenation of the Strings s and m.\n\n      return s + m;\n    }\n  }, hasToExponentialRoundingBug || toExponentialAllowsInfiniteDigits);\n\n  var hasToPrecisionUndefinedBug = function () {\n    try {\n      return 1.0.toPrecision(undefined) === '1';\n    } catch (e) {\n      return true;\n    }\n  }();\n\n  var originalToPrecision = call.bind(NumberPrototype.toPrecision);\n  defineProperties(NumberPrototype, {\n    toPrecision: function toPrecision(precision) {\n      return typeof precision === 'undefined' ? originalToPrecision(this) : originalToPrecision(this, precision);\n    }\n  }, hasToPrecisionUndefinedBug); //\n  // String\n  // ======\n  //\n  // ES5 15.5.4.14\n  // https://es5.github.io/#x15.5.4.14\n  // [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n  // Many browsers do not split properly with regular expressions or they\n  // do not perform the split correctly under obscure conditions.\n  // See https://blog.stevenlevithan.com/archives/cross-browser-split\n  // I've tested in many browsers and this seems to cover the deviant ones:\n  //    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n  //    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n  //    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n  //       [undefined, \"t\", undefined, \"e\", ...]\n  //    ''.split(/.?/) should be [], not [\"\"]\n  //    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\n  if ('ab'.split(/(?:ab)*/).length !== 2 || '.'.split(/(.?)(.?)/).length !== 4 || 'tesst'.split(/(s)*/)[1] === 't' || 'test'.split(/(?:)/, -1).length !== 4 || ''.split(/.?/).length || '.'.split(/()()/).length > 1) {\n    (function () {\n      var compliantExecNpcg = typeof /()??/.exec('')[1] === 'undefined'; // NPCG: nonparticipating capturing group\n\n      var maxSafe32BitInt = pow(2, 32) - 1;\n\n      StringPrototype.split = function split(separator, limit) {\n        var string = String(this);\n\n        if (typeof separator === 'undefined' && limit === 0) {\n          return [];\n        } // If `separator` is not a regex, use native split\n\n\n        if (!isRegex(separator)) {\n          return strSplit(this, separator, limit);\n        }\n\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') + (separator.multiline ? 'm' : '') + (separator.unicode ? 'u' : '') // in ES6\n        + (separator.sticky ? 'y' : ''),\n            // Firefox 3+ and ES6\n        lastLastIndex = 0,\n            // Make `global` and avoid `lastIndex` issues by working with a copy\n        separator2,\n            match,\n            lastIndex,\n            lastLength;\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n\n        if (!compliantExecNpcg) {\n          // Doesn't need flags gy, but they don't hurt\n          separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n        }\n        /* Values for `limit`, per the spec:\n         * If undefined: 4294967295 // maxSafe32BitInt\n         * If 0, Infinity, or NaN: 0\n         * If positive number: limit = floor(limit); if (limit > 4294967295) limit -= 4294967296;\n         * If negative number: 4294967296 - floor(abs(limit))\n         * If other: Type-convert, then use the above rules\n         */\n\n\n        var splitLimit = typeof limit === 'undefined' ? maxSafe32BitInt : ES.ToUint32(limit);\n        match = separatorCopy.exec(string);\n\n        while (match) {\n          // `separatorCopy.lastIndex` is not reliable cross-browser\n          lastIndex = match.index + match[0].length;\n\n          if (lastIndex > lastLastIndex) {\n            pushCall(output, strSlice(string, lastLastIndex, match.index)); // Fix browsers whose `exec` methods don't consistently return `undefined` for\n            // nonparticipating capturing groups\n\n            if (!compliantExecNpcg && match.length > 1) {\n              /* eslint-disable no-loop-func */\n              match[0].replace(separator2, function () {\n                for (var i = 1; i < arguments.length - 2; i++) {\n                  if (typeof arguments[i] === 'undefined') {\n                    match[i] = void 0;\n                  }\n                }\n              });\n              /* eslint-enable no-loop-func */\n            }\n\n            if (match.length > 1 && match.index < string.length) {\n              array_push.apply(output, arraySlice(match, 1));\n            }\n\n            lastLength = match[0].length;\n            lastLastIndex = lastIndex;\n\n            if (output.length >= splitLimit) {\n              break;\n            }\n          }\n\n          if (separatorCopy.lastIndex === match.index) {\n            separatorCopy.lastIndex++; // Avoid an infinite loop\n          }\n\n          match = separatorCopy.exec(string);\n        }\n\n        if (lastLastIndex === string.length) {\n          if (lastLength || !separatorCopy.test('')) {\n            pushCall(output, '');\n          }\n        } else {\n          pushCall(output, strSlice(string, lastLastIndex));\n        }\n\n        return output.length > splitLimit ? arraySlice(output, 0, splitLimit) : output;\n      };\n    })(); // [bugfix, chrome]\n    // If separator is undefined, then the result array contains just one String,\n    // which is the this value (converted to a String). If limit is not undefined,\n    // then the output array is truncated so that it contains no more than limit\n    // elements.\n    // \"0\".split(undefined, 0) -> []\n\n  } else if ('0'.split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n      if (typeof separator === 'undefined' && limit === 0) {\n        return [];\n      }\n\n      return strSplit(this, separator, limit);\n    };\n  }\n\n  var str_replace = StringPrototype.replace;\n\n  var replaceReportsGroupsCorrectly = function () {\n    var groups = [];\n    'x'.replace(/x(.)?/g, function (match, group) {\n      pushCall(groups, group);\n    });\n    return groups.length === 1 && typeof groups[0] === 'undefined';\n  }();\n\n  if (!replaceReportsGroupsCorrectly) {\n    StringPrototype.replace = function replace(searchValue, replaceValue) {\n      var isFn = isCallable(replaceValue);\n      var hasCapturingGroups = isRegex(searchValue) && /\\)[*?]/.test(searchValue.source);\n\n      if (!isFn || !hasCapturingGroups) {\n        return str_replace.call(this, searchValue, replaceValue);\n      }\n\n      var wrappedReplaceValue = function (match) {\n        var length = arguments.length;\n        var originalLastIndex = searchValue.lastIndex;\n        searchValue.lastIndex = 0; // eslint-disable-line no-param-reassign\n\n        var args = searchValue.exec(match) || [];\n        searchValue.lastIndex = originalLastIndex; // eslint-disable-line no-param-reassign\n\n        pushCall(args, arguments[length - 2], arguments[length - 1]);\n        return replaceValue.apply(this, args);\n      };\n\n      return str_replace.call(this, searchValue, wrappedReplaceValue);\n    };\n  } // ECMA-262, 3rd B.2.3\n  // Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n  // non-normative section suggesting uniform semantics and it should be\n  // normalized across all browsers\n  // [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\n\n\n  var hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\n  var string_substr = hasNegativeSubstrBug && call.bind(StringPrototype.substr);\n  defineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n      var normalizedStart = start;\n\n      if (start < 0) {\n        normalizedStart = max(this.length + start, 0);\n      }\n\n      return string_substr(this, normalizedStart, length);\n    }\n  }, hasNegativeSubstrBug); // ES5 15.5.4.20\n  // whitespace from: https://es5.github.io/#x15.5.4.20\n\n  var mvs = '\\u180E';\n  var mvsIsWS = /\\s/.test(mvs);\n  var ws = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF'.replace(/\\S/g, ''); // remove the mongolian vowel separator (\\u180E) in modern engines\n\n  var zeroWidth = '\\u200b';\n  var wsRegexChars = '[' + ws + ']';\n  var trimBeginRegexp = new RegExp('^' + wsRegexChars + wsRegexChars + '*');\n  var trimEndRegexp = new RegExp(wsRegexChars + wsRegexChars + '*$');\n  var hasTrimWhitespaceBug = StringPrototype.trim && (ws.trim() !== '' // if ws is not considered whitespace\n  || zeroWidth.trim() === '' // if zero-width IS considered whitespace\n  || mvs.trim() !== (mvsIsWS ? '' : mvs) // if MVS is either wrongly considered whitespace, or, wrongly considered NOT whitespace\n  );\n  defineProperties(StringPrototype, {\n    // https://blog.stevenlevithan.com/archives/faster-trim-javascript\n    // http://perfectionkills.com/whitespace-deviations/\n    trim: function trim() {\n      'use strict';\n\n      if (typeof this === 'undefined' || this === null) {\n        throw new TypeError(\"can't convert \" + this + ' to object');\n      }\n\n      return $String(this).replace(trimBeginRegexp, '').replace(trimEndRegexp, '');\n    }\n  }, hasTrimWhitespaceBug);\n  var trim = call.bind(String.prototype.trim);\n  var hasLastIndexBug = StringPrototype.lastIndexOf && 'abcあい'.lastIndexOf('あい', 2) !== -1;\n  defineProperties(StringPrototype, {\n    lastIndexOf: function lastIndexOf(searchString) {\n      if (typeof this === 'undefined' || this === null) {\n        throw new TypeError(\"can't convert \" + this + ' to object');\n      }\n\n      var S = $String(this);\n      var searchStr = $String(searchString);\n      var numPos = arguments.length > 1 ? $Number(arguments[1]) : NaN;\n      var pos = isActualNaN(numPos) ? Infinity : ES.ToInteger(numPos);\n      var start = min(max(pos, 0), S.length);\n      var searchLen = searchStr.length;\n      var k = start + searchLen;\n\n      while (k > 0) {\n        k = max(0, k - searchLen);\n        var index = strIndexOf(strSlice(S, k, start + searchLen), searchStr);\n\n        if (index !== -1) {\n          return k + index;\n        }\n      }\n\n      return -1;\n    }\n  }, hasLastIndexBug);\n  var originalLastIndexOf = StringPrototype.lastIndexOf;\n  defineProperties(StringPrototype, {\n    lastIndexOf: function lastIndexOf(searchString) {\n      return originalLastIndexOf.apply(this, arguments);\n    }\n  }, StringPrototype.lastIndexOf.length !== 1);\n  var hexRegex = /^[-+]?0[xX]/; // ES-5 15.1.2.2\n\n  if (parseInt(ws + '08') !== 8 // eslint-disable-line radix\n  || parseInt(ws + '0x16') !== 22 // eslint-disable-line radix\n  || (mvsIsWS ? parseInt(mvs + 1) !== 1 : !isNaN(parseInt(mvs + 1))) // eslint-disable-line radix\n  ) {\n    // eslint-disable-next-line no-global-assign, no-implicit-globals\n    parseInt = function (origParseInt) {\n      return function parseInt(str, radix) {\n        if (this instanceof parseInt) {\n          new origParseInt();\n        } // eslint-disable-line new-cap, no-new, max-statements-per-line\n\n\n        var string = trim(String(str));\n        var defaultedRadix = $Number(radix) || (hexRegex.test(string) ? 16 : 10);\n        return origParseInt(string, defaultedRadix);\n      };\n    }(parseInt);\n  } // Edge 15-18\n\n\n  var parseIntFailsToThrowOnBoxedSymbols = function () {\n    if (typeof Symbol !== 'function') {\n      return false;\n    }\n\n    try {\n      // eslint-disable-next-line radix\n      parseInt(Object(Symbol.iterator));\n      return true;\n    } catch (e) {\n      /**/\n    }\n\n    try {\n      // eslint-disable-next-line radix\n      parseInt(Symbol.iterator);\n      return true;\n    } catch (e) {\n      /**/\n    }\n\n    return false;\n  }();\n\n  if (parseIntFailsToThrowOnBoxedSymbols) {\n    var symbolValueOf = Symbol.prototype.valueOf; // eslint-disable-next-line no-global-assign, no-implicit-globals\n\n    parseInt = function (origParseInt) {\n      return function parseInt(str, radix) {\n        if (this instanceof parseInt) {\n          new origParseInt();\n        } // eslint-disable-line new-cap, no-new, max-statements-per-line\n\n\n        var isSym = typeof str === 'symbol';\n\n        if (!isSym && str && typeof str === 'object') {\n          try {\n            symbolValueOf.call(str);\n            isSym = true;\n          } catch (e) {\n            /**/\n          }\n        }\n\n        if (isSym) {\n          // handle Symbols in node 8.3/8.4\n          // eslint-disable-next-line no-implicit-coercion, no-unused-expressions\n          '' + str; // jscs:ignore disallowImplicitTypeConversion\n        }\n\n        var string = trim(String(str));\n        var defaultedRadix = $Number(radix) || (hexRegex.test(string) ? 16 : 10);\n        return origParseInt(string, defaultedRadix);\n      };\n    }(parseInt);\n  } // https://es5.github.io/#x15.1.2.3\n\n\n  if (1 / parseFloat('-0') !== -Infinity) {\n    // eslint-disable-next-line no-global-assign, no-implicit-globals, no-native-reassign\n    parseFloat = function (origParseFloat) {\n      return function parseFloat(string) {\n        var inputString = trim(String(string));\n        var result = origParseFloat(inputString);\n        return result === 0 && strSlice(inputString, 0, 1) === '-' ? -0 : result;\n      };\n    }(parseFloat);\n  }\n\n  if (String(new RangeError('test')) !== 'RangeError: test') {\n    var errorToStringShim = function toString() {\n      if (typeof this === 'undefined' || this === null) {\n        throw new TypeError(\"can't convert \" + this + ' to object');\n      }\n\n      var name = this.name;\n\n      if (typeof name === 'undefined') {\n        name = 'Error';\n      } else if (typeof name !== 'string') {\n        name = $String(name);\n      }\n\n      var msg = this.message;\n\n      if (typeof msg === 'undefined') {\n        msg = '';\n      } else if (typeof msg !== 'string') {\n        msg = $String(msg);\n      }\n\n      if (!name) {\n        return msg;\n      }\n\n      if (!msg) {\n        return name;\n      }\n\n      return name + ': ' + msg;\n    }; // can't use defineProperties here because of toString enumeration issue in IE <= 8\n\n\n    Error.prototype.toString = errorToStringShim;\n  }\n\n  if (supportsDescriptors) {\n    var ensureNonEnumerable = function (obj, prop) {\n      if (isEnum(obj, prop)) {\n        var desc = Object.getOwnPropertyDescriptor(obj, prop);\n\n        if (desc.configurable) {\n          desc.enumerable = false;\n          Object.defineProperty(obj, prop, desc);\n        }\n      }\n    };\n\n    ensureNonEnumerable(Error.prototype, 'message');\n\n    if (Error.prototype.message !== '') {\n      Error.prototype.message = '';\n    }\n\n    ensureNonEnumerable(Error.prototype, 'name');\n  }\n\n  if (String(/a/mig) !== '/a/gim') {\n    var regexToString = function toString() {\n      var str = '/' + this.source + '/';\n\n      if (this.global) {\n        str += 'g';\n      }\n\n      if (this.ignoreCase) {\n        str += 'i';\n      }\n\n      if (this.multiline) {\n        str += 'm';\n      }\n\n      return str;\n    }; // can't use defineProperties here because of toString enumeration issue in IE <= 8\n\n\n    RegExp.prototype.toString = regexToString;\n  }\n});","map":{"version":3,"names":["root","factory","define","amd","exports","module","returnExports","$Array","Array","ArrayPrototype","prototype","$Object","Object","ObjectPrototype","$Function","Function","FunctionPrototype","$String","String","StringPrototype","$Number","Number","NumberPrototype","array_slice","slice","array_splice","splice","array_push","push","array_unshift","unshift","array_concat","concat","array_join","join","call","apply","max","Math","min","floor","abs","pow","round","log","LOG10E","log10","value","to_string","toString","hasToStringTag","Symbol","toStringTag","isCallable","fnToStr","constructorRegex","isES6ClassFn","fnStr","singleStripped","replace","multiStripped","spaceStripped","test","e","tryFunctionObject","fnClass","genClass","strClass","isRegex","regexExec","RegExp","exec","tryRegexExec","regexClass","isString","strValue","valueOf","tryStringObject","stringClass","supportsDescriptors","defineProperty","obj","enumerable","_","x","defineProperties","has","object","name","method","forceAssign","configurable","writable","map","hasOwnProperty","F","toStringSentinel","sentinel","$dP","$gOPD","getOwnPropertyDescriptor","o","k","d","key","desc","isPrimitive","input","type","isActualNaN","isNaN","ES","ToInteger","num","n","ToPrimitive","val","toStr","TypeError","ToObject","ToUint32","Empty","bind","that","target","args","arguments","bound","binder","result","boundLength","length","boundArgs","i","owns","arraySlice","arraySliceApply","document","documentElement","childNodes","origArraySlice","origArraySliceApply","arraySliceIE","arr","r","arraySliceApplyIE","strSlice","strSplit","split","strIndexOf","indexOf","pushCall","isEnum","propertyIsEnumerable","arraySort","sort","isArray","hasUnshiftReturnValueBug","boxedString","splitString","properlyBoxesContext","properlyBoxed","properlyBoxesNonStrict","properlyBoxesStrict","threwException","__","context","forEach","callbackfn","self","T","filter","every","some","reduceCoercesToObject","reduce","___","list","reduceRightCoercesToObject","reduceRight","hasFirefox2IndexOfBug","searchElement","hasFirefox2LastIndexOfBug","lastIndexOf","spliceNoopReturnsEmptyArray","a","start","deleteCount","spliceWorksWithEmptyObject","hasES6Defaults","spliceWorksWithLargeSparseArrays","spliceWorksWithSmallSparseArrays","O","A","len","relativeStart","actualStart","actualDeleteCount","from","items","itemCount","to","maxK","minK","originalJoin","hasStringJoinBug","separator","sep","hasJoinUndefinedBug","undefined","pushShim","item","pushIsNotGeneric","pushUndefinedIsWeird","end","sortIgnoresNonFunctions","e2","sortThrowsOnRegex","sortIgnoresUndefined","compareFn","hasDontEnumBug","hasProtoEnumBug","hasStringEnumBug","equalsConstructorPrototype","ctor","constructor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","$width","$height","$top","$localStorage","hasAutomationEqualityBug","window","equalsConstructorPrototypeIfNotBuggy","dontEnums","dontEnumsLength","isStandardArguments","isArguments","isLegacyArguments","callee","keys","isFn","isArgs","isObject","isStr","theKeys","skipProto","skipConstructor","j","dontEnum","keysWorksWithArguments","keysHasArgumentsLengthBug","argKeys","originalKeys","hasNegativeMonthYearBug","Date","getUTCMonth","aNegativeTestDate","aPositiveTestDate","hasToUTCStringFormatBug","toUTCString","hasToDateStringFormatBug","hasToStringFormatBug","timeZoneOffset","getTimezoneOffset","toDateString","originalGetFullYear","getFullYear","originalGetMonth","getMonth","originalGetDate","getDate","originalGetUTCFullYear","getUTCFullYear","originalGetUTCMonth","originalGetUTCDate","getUTCDate","originalGetUTCDay","getUTCDay","originalGetUTCHours","getUTCHours","originalGetUTCMinutes","getUTCMinutes","originalGetUTCSeconds","getUTCSeconds","originalGetUTCMilliseconds","getUTCMilliseconds","dayName","monthName","daysInMonth","month","year","date","days","day","hour","minute","second","getDay","getHours","getMinutes","getSeconds","timezoneOffset","hoursOffset","minutesOffset","negativeDate","negativeYearString","hasNegativeDateBug","toISOString","hasSafari51DateBug","getTime","isFinite","RangeError","dateToJSONIsSupported","toJSON","NaN","tv","toISO","supportsExtendedYears","parse","acceptsInvalidDates","doesNotParseY2KNewYear","maxSafeUnsigned32Bit","hasSafariSignedIntBug","NativeDate","DateShim","Y","M","D","h","m","s","ms","seconds","millis","msToShift","sToShift","parsed","hasNegTimestampParseBug","isoDateExpression","months","dayFromMonth","t","toUTC","now","UTC","parseShim","string","match","millisecond","isLocalTime","Boolean","signOffset","hourOffset","minuteOffset","hasMinutesOrSecondsOrMilliseconds","hasToFixedBugs","toFixed","toFixedHelpers","base","size","data","multiply","c","c2","divide","numToString","acc","x2","toFixedShim","fractionDigits","f","z","hasToExponentialRoundingBug","toExponential","toExponentialAllowsInfiniteDigits","Infinity","originalToExponential","numberToString","numberValueOf","L","w","guess_n","target_f","hasToPrecisionUndefinedBug","toPrecision","originalToPrecision","precision","compliantExecNpcg","maxSafe32BitInt","limit","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separator2","lastIndex","lastLength","separatorCopy","source","splitLimit","index","str_replace","replaceReportsGroupsCorrectly","groups","group","searchValue","replaceValue","hasCapturingGroups","wrappedReplaceValue","originalLastIndex","hasNegativeSubstrBug","substr","string_substr","normalizedStart","mvs","mvsIsWS","ws","zeroWidth","wsRegexChars","trimBeginRegexp","trimEndRegexp","hasTrimWhitespaceBug","trim","hasLastIndexBug","searchString","S","searchStr","numPos","pos","searchLen","originalLastIndexOf","hexRegex","parseInt","origParseInt","str","radix","defaultedRadix","parseIntFailsToThrowOnBoxedSymbols","iterator","symbolValueOf","isSym","parseFloat","origParseFloat","inputString","errorToStringShim","msg","message","Error","ensureNonEnumerable","prop","regexToString","global"],"sources":["/Users/plamenakichukova/syncron-sdk-components/node_modules/es5-shim/es5-shim.js"],"sourcesContent":["/*!\n * https://github.com/es-shims/es5-shim\n * @license es5-shim Copyright 2009-2020 by contributors, MIT License\n * see https://github.com/es-shims/es5-shim/blob/master/LICENSE\n */\n\n// vim: ts=4 sts=4 sw=4 expandtab\n\n// Add semicolon to prevent IIFE from being passed as argument to concatenated code.\n; // eslint-disable-line no-extra-semi\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/templates/returnExports.js\n(function (root, factory) {\n    'use strict';\n\n    /* global define */\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(); // eslint-disable-line no-param-reassign\n    }\n}(this, function () {\n    /**\n     * Brings an environment as close to ECMAScript 5 compliance\n     * as is possible with the facilities of erstwhile engines.\n     *\n     * Annotated ES5: https://es5.github.io/ (specific links below)\n     * ES5 Spec: https://www.ecma-international.org/wp-content/uploads/ECMA-262_5.1_edition_june_2011.pdf\n     * Required reading: https://javascriptweblog.wordpress.com/2011/12/05/extending-javascript-natives/\n     */\n\n    // Shortcut to an often accessed properties, in order to avoid multiple\n    // dereference that costs universally. This also holds a reference to known-good\n    // functions.\n    var $Array = Array;\n    var ArrayPrototype = $Array.prototype;\n    var $Object = Object;\n    var ObjectPrototype = $Object.prototype;\n    var $Function = Function;\n    var FunctionPrototype = $Function.prototype;\n    var $String = String;\n    var StringPrototype = $String.prototype;\n    var $Number = Number;\n    var NumberPrototype = $Number.prototype;\n    var array_slice = ArrayPrototype.slice;\n    var array_splice = ArrayPrototype.splice;\n    var array_push = ArrayPrototype.push;\n    var array_unshift = ArrayPrototype.unshift;\n    var array_concat = ArrayPrototype.concat;\n    var array_join = ArrayPrototype.join;\n    var call = FunctionPrototype.call;\n    var apply = FunctionPrototype.apply;\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n    var abs = Math.abs;\n    var pow = Math.pow;\n    var round = Math.round;\n    var log = Math.log;\n    var LOG10E = Math.LOG10E;\n    var log10 = Math.log10 || function log10(value) {\n        return log(value) * LOG10E;\n    };\n\n    // Having a toString local variable name breaks in Opera so use to_string.\n    var to_string = ObjectPrototype.toString;\n\n    /* eslint-disable one-var-declaration-per-line, no-redeclare, max-statements-per-line */\n    var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n    var isCallable; /* inlined from https://npmjs.com/is-callable */ var fnToStr = Function.prototype.toString, constructorRegex = /^\\s*class /, isES6ClassFn = function isES6ClassFn(value) { try { var fnStr = fnToStr.call(value); var singleStripped = fnStr.replace(/\\/\\/.*\\n/g, ''); var multiStripped = singleStripped.replace(/\\/\\*[.\\s\\S]*\\*\\//g, ''); var spaceStripped = multiStripped.replace(/\\n/mg, ' ').replace(/ {2}/g, ' '); return constructorRegex.test(spaceStripped); } catch (e) { return false; /* not a function */ } }, tryFunctionObject = function tryFunctionObject(value) { try { if (isES6ClassFn(value)) { return false; } fnToStr.call(value); return true; } catch (e) { return false; } }, fnClass = '[object Function]', genClass = '[object GeneratorFunction]', isCallable = function isCallable(value) { if (!value) { return false; } if (typeof value !== 'function' && typeof value !== 'object') { return false; } if (hasToStringTag) { return tryFunctionObject(value); } if (isES6ClassFn(value)) { return false; } var strClass = to_string.call(value); return strClass === fnClass || strClass === genClass; };\n\n    var isRegex; /* inlined from https://npmjs.com/is-regex */ var regexExec = RegExp.prototype.exec, tryRegexExec = function tryRegexExec(value) { try { regexExec.call(value); return true; } catch (e) { return false; } }, regexClass = '[object RegExp]'; isRegex = function isRegex(value) { if (typeof value !== 'object') { return false; } return hasToStringTag ? tryRegexExec(value) : to_string.call(value) === regexClass; };\n    var isString; /* inlined from https://npmjs.com/is-string */ var strValue = String.prototype.valueOf, tryStringObject = function tryStringObject(value) { try { strValue.call(value); return true; } catch (e) { return false; } }, stringClass = '[object String]'; isString = function isString(value) { if (typeof value === 'string') { return true; } if (typeof value !== 'object') { return false; } return hasToStringTag ? tryStringObject(value) : to_string.call(value) === stringClass; };\n    /* eslint-enable one-var-declaration-per-line, no-redeclare, max-statements-per-line */\n\n    /* inlined from https://npmjs.com/define-properties */\n    var supportsDescriptors = $Object.defineProperty && (function () {\n        try {\n            var obj = {};\n            $Object.defineProperty(obj, 'x', { enumerable: false, value: obj });\n            // eslint-disable-next-line no-unreachable-loop, max-statements-per-line\n            for (var _ in obj) { return false; } // jscs:ignore disallowUnusedVariables\n            return obj.x === obj;\n        } catch (e) { /* this is ES3 */\n            return false;\n        }\n    }());\n    var defineProperties = (function (has) {\n        // Define configurable, writable, and non-enumerable props\n        // if they don't exist.\n        var defineProperty;\n        if (supportsDescriptors) {\n            defineProperty = function (object, name, method, forceAssign) {\n                if (!forceAssign && (name in object)) {\n                    return;\n                }\n                $Object.defineProperty(object, name, {\n                    configurable: true,\n                    enumerable: false,\n                    writable: true,\n                    value: method\n                });\n            };\n        } else {\n            defineProperty = function (object, name, method, forceAssign) {\n                if (!forceAssign && (name in object)) {\n                    return;\n                }\n                object[name] = method; // eslint-disable-line no-param-reassign\n            };\n        }\n        return function defineProperties(object, map, forceAssign) {\n            for (var name in map) {\n                if (has.call(map, name)) {\n                    defineProperty(object, name, map[name], forceAssign);\n                }\n            }\n        };\n    }(ObjectPrototype.hasOwnProperty));\n\n    // this is needed in Chrome 15 (probably earlier) - 36\n    // https://bugs.chromium.org/p/v8/issues/detail?id=3334\n    if ($Object.defineProperty && supportsDescriptors) {\n        var F = function () {};\n        var toStringSentinel = {};\n        var sentinel = { toString: toStringSentinel };\n        $Object.defineProperty(F, 'prototype', { value: sentinel, writable: false });\n        if ((new F()).toString !== toStringSentinel) {\n            var $dP = $Object.defineProperty;\n            var $gOPD = $Object.getOwnPropertyDescriptor;\n            defineProperties($Object, {\n                defineProperty: function defineProperty(o, k, d) {\n                    var key = $String(k);\n                    if (typeof o === 'function' && key === 'prototype') {\n                        var desc = $gOPD(o, key);\n                        if (desc.writable && !d.writable && 'value' in d) {\n                            try {\n                                o[key] = d.value; // eslint-disable-line no-param-reassign\n                            } catch (e) { /**/ }\n                        }\n                        return $dP(o, key, {\n                            configurable: 'configurable' in d ? d.configurable : desc.configurable,\n                            enumerable: 'enumerable' in d ? d.enumerable : desc.enumerable,\n                            writable: d.writable\n                        });\n                    }\n                    return $dP(o, key, d);\n                }\n            }, true);\n        }\n    }\n\n    //\n    // Util\n    // ======\n    //\n\n    /* replaceable with https://npmjs.com/package/es-abstract /helpers/isPrimitive */\n    var isPrimitive = function isPrimitive(input) {\n        var type = typeof input;\n        return input === null || (type !== 'object' && type !== 'function');\n    };\n\n    var isActualNaN = $Number.isNaN || function isActualNaN(x) {\n        return x !== x;\n    };\n\n    var ES = {\n        // ES5 9.4\n        // https://es5.github.io/#x9.4\n        // http://jsperf.com/to-integer\n        /* replaceable with https://npmjs.com/package/es-abstract ES5.ToInteger */\n        ToInteger: function ToInteger(num) {\n            var n = +num;\n            if (isActualNaN(n)) {\n                n = 0;\n            } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n                n = (n > 0 || -1) * floor(abs(n));\n            }\n            return n;\n        },\n\n        /* replaceable with https://npmjs.com/package/es-abstract ES5.ToPrimitive */\n        ToPrimitive: function ToPrimitive(input) {\n            var val, valueOf, toStr;\n            if (isPrimitive(input)) {\n                return input;\n            }\n            valueOf = input.valueOf;\n            if (isCallable(valueOf)) {\n                val = valueOf.call(input);\n                if (isPrimitive(val)) {\n                    return val;\n                }\n            }\n            toStr = input.toString;\n            if (isCallable(toStr)) {\n                val = toStr.call(input);\n                if (isPrimitive(val)) {\n                    return val;\n                }\n            }\n            throw new TypeError();\n        },\n\n        // ES5 9.9\n        // https://es5.github.io/#x9.9\n        /* replaceable with https://npmjs.com/package/es-abstract ES5.ToObject */\n        ToObject: function (o) {\n            if (o == null) { // this matches both null and undefined\n                throw new TypeError(\"can't convert \" + o + ' to object');\n            }\n            return $Object(o);\n        },\n\n        /* replaceable with https://npmjs.com/package/es-abstract ES5.ToUint32 */\n        ToUint32: function ToUint32(x) {\n            return x >>> 0;\n        }\n    };\n\n    //\n    // Function\n    // ========\n    //\n\n    // ES-5 15.3.4.5\n    // https://es5.github.io/#x15.3.4.5\n\n    var Empty = function Empty() {};\n\n    defineProperties(FunctionPrototype, {\n        bind: function bind(that) { // .length is 1\n            // 1. Let Target be the this value.\n            var target = this;\n            // 2. If IsCallable(Target) is false, throw a TypeError exception.\n            if (!isCallable(target)) {\n                throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n            }\n            // 3. Let A be a new (possibly empty) internal list of all of the\n            //   argument values provided after thisArg (arg1, arg2 etc), in order.\n            // XXX slicedArgs will stand in for \"A\" if used\n            var args = array_slice.call(arguments, 1); // for normal call\n            // 4. Let F be a new native ECMAScript object.\n            // 11. Set the [[Prototype]] internal property of F to the standard\n            //   built-in Function prototype object as specified in 15.3.3.1.\n            // 12. Set the [[Call]] internal property of F as described in\n            //   15.3.4.5.1.\n            // 13. Set the [[Construct]] internal property of F as described in\n            //   15.3.4.5.2.\n            // 14. Set the [[HasInstance]] internal property of F as described in\n            //   15.3.4.5.3.\n            var bound;\n            var binder = function () {\n\n                if (this instanceof bound) {\n                    // 15.3.4.5.2 [[Construct]]\n                    // When the [[Construct]] internal method of a function object,\n                    // F that was created using the bind function is called with a\n                    // list of arguments ExtraArgs, the following steps are taken:\n                    // 1. Let target be the value of F's [[TargetFunction]]\n                    //   internal property.\n                    // 2. If target has no [[Construct]] internal method, a\n                    //   TypeError exception is thrown.\n                    // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                    //   property.\n                    // 4. Let args be a new list containing the same values as the\n                    //   list boundArgs in the same order followed by the same\n                    //   values as the list ExtraArgs in the same order.\n                    // 5. Return the result of calling the [[Construct]] internal\n                    //   method of target providing args as the arguments.\n\n                    var result = apply.call(\n                        target,\n                        this,\n                        array_concat.call(args, array_slice.call(arguments))\n                    );\n                    if ($Object(result) === result) {\n                        return result;\n                    }\n                    return this;\n\n                }\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return apply.call(\n                    target,\n                    that,\n                    array_concat.call(args, array_slice.call(arguments))\n                );\n\n            };\n\n            // 15. If the [[Class]] internal property of Target is \"Function\", then\n            //     a. Let L be the length property of Target minus the length of A.\n            //     b. Set the length own property of F to either 0 or L, whichever is\n            //       larger.\n            // 16. Else set the length own property of F to 0.\n\n            var boundLength = max(0, target.length - args.length);\n\n            // 17. Set the attributes of the length own property of F to the values\n            //   specified in 15.3.5.1.\n            var boundArgs = [];\n            for (var i = 0; i < boundLength; i++) {\n                array_push.call(boundArgs, '$' + i);\n            }\n\n            // XXX Build a dynamic function with desired amount of arguments is the only\n            // way to set the length property of a function.\n            // In environments where Content Security Policies enabled (Chrome extensions,\n            // for ex.) all use of eval or Function costructor throws an exception.\n            // However in all of these environments Function.prototype.bind exists\n            // and so this code will never be executed.\n            bound = $Function('binder', 'return function (' + array_join.call(boundArgs, ',') + '){ return binder.apply(this, arguments); }')(binder);\n\n            if (target.prototype) {\n                Empty.prototype = target.prototype;\n                bound.prototype = new Empty();\n                // Clean up dangling references.\n                Empty.prototype = null;\n            }\n\n            // TODO\n            // 18. Set the [[Extensible]] internal property of F to true.\n\n            // TODO\n            // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n            // 20. Call the [[DefineOwnProperty]] internal method of F with\n            //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n            //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n            //   false.\n            // 21. Call the [[DefineOwnProperty]] internal method of F with\n            //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n            //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n            //   and false.\n\n            // TODO\n            // NOTE Function objects created using Function.prototype.bind do not\n            // have a prototype property or the [[Code]], [[FormalParameters]], and\n            // [[Scope]] internal properties.\n            // XXX can't delete prototype in pure-js.\n\n            // 22. Return F.\n            return bound;\n        }\n    });\n\n    // _Please note: Shortcuts are defined after `Function.prototype.bind` as we\n    // use it in defining shortcuts.\n    var owns = call.bind(ObjectPrototype.hasOwnProperty);\n    var toStr = call.bind(ObjectPrototype.toString);\n    var arraySlice = call.bind(array_slice);\n    var arraySliceApply = apply.bind(array_slice);\n    /* globals document */\n    if (typeof document === 'object' && document && document.documentElement) {\n        try {\n            arraySlice(document.documentElement.childNodes);\n        } catch (e) {\n            var origArraySlice = arraySlice;\n            var origArraySliceApply = arraySliceApply;\n            arraySlice = function arraySliceIE(arr) {\n                var r = [];\n                var i = arr.length;\n                while (i-- > 0) {\n                    r[i] = arr[i];\n                }\n                return origArraySliceApply(r, origArraySlice(arguments, 1));\n            };\n            arraySliceApply = function arraySliceApplyIE(arr, args) {\n                return origArraySliceApply(arraySlice(arr), args);\n            };\n        }\n    }\n    var strSlice = call.bind(StringPrototype.slice);\n    var strSplit = call.bind(StringPrototype.split);\n    var strIndexOf = call.bind(StringPrototype.indexOf);\n    var pushCall = call.bind(array_push);\n    var isEnum = call.bind(ObjectPrototype.propertyIsEnumerable);\n    var arraySort = call.bind(ArrayPrototype.sort);\n\n    //\n    // Array\n    // =====\n    //\n\n    var isArray = $Array.isArray || function isArray(obj) {\n        return toStr(obj) === '[object Array]';\n    };\n\n    // ES5 15.4.4.12\n    // https://es5.github.io/#x15.4.4.13\n    // Return len+argCount.\n    // [bugfix, ielt8]\n    // IE < 8 bug: [].unshift(0) === undefined but should be \"1\"\n    var hasUnshiftReturnValueBug = [].unshift(0) !== 1;\n    defineProperties(ArrayPrototype, {\n        unshift: function () {\n            array_unshift.apply(this, arguments);\n            return this.length;\n        }\n    }, hasUnshiftReturnValueBug);\n\n    // ES5 15.4.3.2\n    // https://es5.github.io/#x15.4.3.2\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\n    defineProperties($Array, { isArray: isArray });\n\n    // The IsCallable() check in the Array functions\n    // has been replaced with a strict check on the\n    // internal class of the object to trap cases where\n    // the provided function was actually a regular\n    // expression literal, which in V8 and\n    // JavaScriptCore is a typeof \"function\".  Only in\n    // V8 are regular expression literals permitted as\n    // reduce parameters, so it is desirable in the\n    // general case for the shim to match the more\n    // strict and common behavior of rejecting regular\n    // expressions.\n\n    // ES5 15.4.4.18\n    // https://es5.github.io/#x15.4.4.18\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/forEach\n\n    // Check failure of by-index access of string characters (IE < 9)\n    // and failure of `0 in boxedString` (Rhino)\n    var boxedString = $Object('a');\n    var splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\n    var properlyBoxesContext = function properlyBoxed(method) {\n        // Check node 0.6.21 bug where third parameter is not boxed\n        var properlyBoxesNonStrict = true;\n        var properlyBoxesStrict = true;\n        var threwException = false;\n        if (method) {\n            try {\n                method.call('foo', function (_, __, context) {\n                    if (typeof context !== 'object') {\n                        properlyBoxesNonStrict = false;\n                    }\n                });\n\n                method.call([1], function () {\n                    'use strict';\n\n                    properlyBoxesStrict = typeof this === 'string';\n                }, 'x');\n            } catch (e) {\n                threwException = true;\n            }\n        }\n        return !!method && !threwException && properlyBoxesNonStrict && properlyBoxesStrict;\n    };\n\n    defineProperties(ArrayPrototype, {\n        forEach: function forEach(callbackfn/*, thisArg*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var i = -1;\n            var length = ES.ToUint32(self.length);\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.forEach callback must be a function');\n            }\n\n            while (++i < length) {\n                if (i in self) {\n                    // Invoke the callback function with call, passing arguments:\n                    // context, property value, property key, thisArg object\n                    if (typeof T === 'undefined') {\n                        callbackfn(self[i], i, object);\n                    } else {\n                        callbackfn.call(T, self[i], i, object);\n                    }\n                }\n            }\n        }\n    }, !properlyBoxesContext(ArrayPrototype.forEach));\n\n    // ES5 15.4.4.19\n    // https://es5.github.io/#x15.4.4.19\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\n    defineProperties(ArrayPrototype, {\n        map: function map(callbackfn/*, thisArg*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n            var result = $Array(length);\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.map callback must be a function');\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self) {\n                    if (typeof T === 'undefined') {\n                        result[i] = callbackfn(self[i], i, object);\n                    } else {\n                        result[i] = callbackfn.call(T, self[i], i, object);\n                    }\n                }\n            }\n            return result;\n        }\n    }, !properlyBoxesContext(ArrayPrototype.map));\n\n    // ES5 15.4.4.20\n    // https://es5.github.io/#x15.4.4.20\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\n    defineProperties(ArrayPrototype, {\n        filter: function filter(callbackfn/*, thisArg*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n            var result = [];\n            var value;\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.filter callback must be a function');\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self) {\n                    value = self[i];\n                    if (typeof T === 'undefined' ? callbackfn(value, i, object) : callbackfn.call(T, value, i, object)) {\n                        pushCall(result, value);\n                    }\n                }\n            }\n            return result;\n        }\n    }, !properlyBoxesContext(ArrayPrototype.filter));\n\n    // ES5 15.4.4.16\n    // https://es5.github.io/#x15.4.4.16\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\n    defineProperties(ArrayPrototype, {\n        every: function every(callbackfn/*, thisArg*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.every callback must be a function');\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self && !(typeof T === 'undefined' ? callbackfn(self[i], i, object) : callbackfn.call(T, self[i], i, object))) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }, !properlyBoxesContext(ArrayPrototype.every));\n\n    // ES5 15.4.4.17\n    // https://es5.github.io/#x15.4.4.17\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\n    defineProperties(ArrayPrototype, {\n        some: function some(callbackfn/*, thisArg */) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.some callback must be a function');\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self && (typeof T === 'undefined' ? callbackfn(self[i], i, object) : callbackfn.call(T, self[i], i, object))) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }, !properlyBoxesContext(ArrayPrototype.some));\n\n    // ES5 15.4.4.21\n    // https://es5.github.io/#x15.4.4.21\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduce\n    var reduceCoercesToObject = false;\n    if (ArrayPrototype.reduce) {\n        reduceCoercesToObject = typeof ArrayPrototype.reduce.call('es5', function (_, __, ___, list) {\n            return list;\n        }) === 'object';\n    }\n    defineProperties(ArrayPrototype, {\n        reduce: function reduce(callbackfn/*, initialValue*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.reduce callback must be a function');\n            }\n\n            // no value to return if no initial value and an empty array\n            if (length === 0 && arguments.length === 1) {\n                throw new TypeError('reduce of empty array with no initial value');\n            }\n\n            var i = 0;\n            var result;\n            if (arguments.length >= 2) {\n                result = arguments[1];\n            } else {\n                do {\n                    if (i in self) {\n                        result = self[i++];\n                        break;\n                    }\n\n                    // if array contains no values, no initial value to return\n                    if (++i >= length) {\n                        throw new TypeError('reduce of empty array with no initial value');\n                    }\n                } while (true);\n            }\n\n            for (; i < length; i++) {\n                if (i in self) {\n                    result = callbackfn(result, self[i], i, object);\n                }\n            }\n\n            return result;\n        }\n    }, !reduceCoercesToObject);\n\n    // ES5 15.4.4.22\n    // https://es5.github.io/#x15.4.4.22\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\n    var reduceRightCoercesToObject = false;\n    if (ArrayPrototype.reduceRight) {\n        reduceRightCoercesToObject = typeof ArrayPrototype.reduceRight.call('es5', function (_, __, ___, list) {\n            return list;\n        }) === 'object';\n    }\n    defineProperties(ArrayPrototype, {\n        reduceRight: function reduceRight(callbackfn/*, initial*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.reduceRight callback must be a function');\n            }\n\n            // no value to return if no initial value, empty array\n            if (length === 0 && arguments.length === 1) {\n                throw new TypeError('reduceRight of empty array with no initial value');\n            }\n\n            var result;\n            var i = length - 1;\n            if (arguments.length >= 2) {\n                result = arguments[1];\n            } else {\n                do {\n                    if (i in self) {\n                        result = self[i--];\n                        break;\n                    }\n\n                    // if array contains no values, no initial value to return\n                    if (--i < 0) {\n                        throw new TypeError('reduceRight of empty array with no initial value');\n                    }\n                } while (true);\n            }\n\n            if (i < 0) {\n                return result;\n            }\n\n            do {\n                if (i in self) {\n                    result = callbackfn(result, self[i], i, object);\n                }\n            } while (i--);\n\n            return result;\n        }\n    }, !reduceRightCoercesToObject);\n\n    // ES5 15.4.4.14\n    // https://es5.github.io/#x15.4.4.14\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\n    var hasFirefox2IndexOfBug = ArrayPrototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\n    defineProperties(ArrayPrototype, {\n        indexOf: function indexOf(searchElement/*, fromIndex */) {\n            var self = splitString && isString(this) ? strSplit(this, '') : ES.ToObject(this);\n            var length = ES.ToUint32(self.length);\n\n            if (length === 0) {\n                return -1;\n            }\n\n            var i = 0;\n            if (arguments.length > 1) {\n                i = ES.ToInteger(arguments[1]);\n            }\n\n            // handle negative indices\n            i = i >= 0 ? i : max(0, length + i);\n            for (; i < length; i++) {\n                if (i in self && self[i] === searchElement) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n    }, hasFirefox2IndexOfBug);\n\n    // ES5 15.4.4.15\n    // https://es5.github.io/#x15.4.4.15\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\n    var hasFirefox2LastIndexOfBug = ArrayPrototype.lastIndexOf && [0, 1].lastIndexOf(0, -3) !== -1;\n    defineProperties(ArrayPrototype, {\n        lastIndexOf: function lastIndexOf(searchElement/*, fromIndex */) {\n            var self = splitString && isString(this) ? strSplit(this, '') : ES.ToObject(this);\n            var length = ES.ToUint32(self.length);\n\n            if (length === 0) {\n                return -1;\n            }\n            var i = length - 1;\n            if (arguments.length > 1) {\n                i = min(i, ES.ToInteger(arguments[1]));\n            }\n            // handle negative indices\n            i = i >= 0 ? i : length - abs(i);\n            for (; i >= 0; i--) {\n                if (i in self && searchElement === self[i]) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n    }, hasFirefox2LastIndexOfBug);\n\n    // ES5 15.4.4.12\n    // https://es5.github.io/#x15.4.4.12\n    var spliceNoopReturnsEmptyArray = (function () {\n        var a = [1, 2];\n        var result = a.splice();\n        return a.length === 2 && isArray(result) && result.length === 0;\n    }());\n    defineProperties(ArrayPrototype, {\n        // Safari 5.0 bug where .splice() returns undefined\n        splice: function splice(start, deleteCount) {\n            if (arguments.length === 0) {\n                return [];\n            }\n            return array_splice.apply(this, arguments);\n\n        }\n    }, !spliceNoopReturnsEmptyArray);\n\n    var spliceWorksWithEmptyObject = (function () {\n        var obj = {};\n        ArrayPrototype.splice.call(obj, 0, 0, 1);\n        return obj.length === 1;\n    }());\n    var hasES6Defaults = [0, 1, 2].splice(0).length === 3;\n    defineProperties(ArrayPrototype, {\n        splice: function splice(start, deleteCount) {\n            if (arguments.length === 0) {\n                return [];\n            }\n            var args = arguments;\n            this.length = max(ES.ToInteger(this.length), 0);\n            if (arguments.length > 0 && typeof deleteCount !== 'number') {\n                args = arraySlice(arguments);\n                if (args.length < 2) {\n                    pushCall(args, this.length - start);\n                } else {\n                    args[1] = ES.ToInteger(deleteCount);\n                }\n            }\n            return array_splice.apply(this, args);\n        }\n    }, !spliceWorksWithEmptyObject || !hasES6Defaults);\n    var spliceWorksWithLargeSparseArrays = (function () {\n        // Per https://github.com/es-shims/es5-shim/issues/295\n        // Safari 7/8 breaks with sparse arrays of size 1e5 or greater\n        var arr = new $Array(1e5);\n        // note: the index MUST be 8 or larger or the test will false pass\n        arr[8] = 'x';\n        arr.splice(1, 1);\n        // note: this test must be defined *after* the indexOf shim\n        // per https://github.com/es-shims/es5-shim/issues/313\n        return arr.indexOf('x') === 7;\n    }());\n    var spliceWorksWithSmallSparseArrays = (function () {\n        // Per https://github.com/es-shims/es5-shim/issues/295\n        // Opera 12.15 breaks on this, no idea why.\n        var n = 256;\n        var arr = [];\n        arr[n] = 'a';\n        arr.splice(n + 1, 0, 'b');\n        return arr[n] === 'a';\n    }());\n    defineProperties(ArrayPrototype, {\n        splice: function splice(start, deleteCount) {\n            var O = ES.ToObject(this);\n            var A = [];\n            var len = ES.ToUint32(O.length);\n            var relativeStart = ES.ToInteger(start);\n            var actualStart = relativeStart < 0 ? max((len + relativeStart), 0) : min(relativeStart, len);\n            var actualDeleteCount = arguments.length === 0\n                ? 0\n                : arguments.length === 1\n                    ? len - actualStart\n                    : min(max(ES.ToInteger(deleteCount), 0), len - actualStart);\n\n            var k = 0;\n            var from;\n            while (k < actualDeleteCount) {\n                from = $String(actualStart + k);\n                if (owns(O, from)) {\n                    A[k] = O[from];\n                }\n                k += 1;\n            }\n\n            var items = arraySlice(arguments, 2);\n            var itemCount = items.length;\n            var to;\n            if (itemCount < actualDeleteCount) {\n                k = actualStart;\n                var maxK = len - actualDeleteCount;\n                while (k < maxK) {\n                    from = $String(k + actualDeleteCount);\n                    to = $String(k + itemCount);\n                    if (owns(O, from)) {\n                        O[to] = O[from];\n                    } else {\n                        delete O[to];\n                    }\n                    k += 1;\n                }\n                k = len;\n                var minK = len - actualDeleteCount + itemCount;\n                while (k > minK) {\n                    delete O[k - 1];\n                    k -= 1;\n                }\n            } else if (itemCount > actualDeleteCount) {\n                k = len - actualDeleteCount;\n                while (k > actualStart) {\n                    from = $String(k + actualDeleteCount - 1);\n                    to = $String(k + itemCount - 1);\n                    if (owns(O, from)) {\n                        O[to] = O[from];\n                    } else {\n                        delete O[to];\n                    }\n                    k -= 1;\n                }\n            }\n            k = actualStart;\n            for (var i = 0; i < items.length; ++i) {\n                O[k] = items[i];\n                k += 1;\n            }\n            O.length = len - actualDeleteCount + itemCount;\n\n            return A;\n        }\n    }, !spliceWorksWithLargeSparseArrays || !spliceWorksWithSmallSparseArrays);\n\n    var originalJoin = ArrayPrototype.join;\n    var hasStringJoinBug;\n    try {\n        hasStringJoinBug = Array.prototype.join.call('123', ',') !== '1,2,3';\n    } catch (e) {\n        hasStringJoinBug = true;\n    }\n    if (hasStringJoinBug) {\n        defineProperties(ArrayPrototype, {\n            join: function join(separator) {\n                var sep = typeof separator === 'undefined' ? ',' : separator;\n                return originalJoin.call(isString(this) ? strSplit(this, '') : this, sep);\n            }\n        }, hasStringJoinBug);\n    }\n\n    var hasJoinUndefinedBug = [1, 2].join(undefined) !== '1,2';\n    if (hasJoinUndefinedBug) {\n        defineProperties(ArrayPrototype, {\n            join: function join(separator) {\n                var sep = typeof separator === 'undefined' ? ',' : separator;\n                return originalJoin.call(this, sep);\n            }\n        }, hasJoinUndefinedBug);\n    }\n\n    var pushShim = function push(item) {\n        var O = ES.ToObject(this);\n        var n = ES.ToUint32(O.length);\n        var i = 0;\n        while (i < arguments.length) {\n            O[n + i] = arguments[i];\n            i += 1;\n        }\n        O.length = n + i;\n        return n + i;\n    };\n\n    var pushIsNotGeneric = (function () {\n        var obj = {};\n        var result = Array.prototype.push.call(obj, undefined);\n        return result !== 1 || obj.length !== 1 || typeof obj[0] !== 'undefined' || !owns(obj, 0);\n    }());\n    defineProperties(ArrayPrototype, {\n        push: function push(item) {\n            if (isArray(this)) {\n                return array_push.apply(this, arguments);\n            }\n            return pushShim.apply(this, arguments);\n        }\n    }, pushIsNotGeneric);\n\n    // This fixes a very weird bug in Opera 10.6 when pushing `undefined\n    var pushUndefinedIsWeird = (function () {\n        var arr = [];\n        var result = arr.push(undefined);\n        return result !== 1 || arr.length !== 1 || typeof arr[0] !== 'undefined' || !owns(arr, 0);\n    }());\n    defineProperties(ArrayPrototype, { push: pushShim }, pushUndefinedIsWeird);\n\n    // ES5 15.2.3.14\n    // https://es5.github.io/#x15.4.4.10\n    // Fix boxed string bug\n    defineProperties(ArrayPrototype, {\n        slice: function (start, end) {\n            var arr = isString(this) ? strSplit(this, '') : this;\n            return arraySliceApply(arr, arguments);\n        }\n    }, splitString);\n\n    var sortIgnoresNonFunctions = (function () {\n        try {\n            [1, 2].sort(null);\n        } catch (e) {\n            try {\n                [1, 2].sort({});\n            } catch (e2) {\n                return false;\n            }\n        }\n        return true;\n    }());\n    var sortThrowsOnRegex = (function () {\n        // this is a problem in Firefox 4, in which `typeof /a/ === 'function'`\n        try {\n            [1, 2].sort(/a/);\n            return false;\n        } catch (e) {}\n        return true;\n    }());\n    var sortIgnoresUndefined = (function () {\n        // applies in IE 8, for one.\n        try {\n            [1, 2].sort(undefined);\n            return true;\n        } catch (e) {}\n        return false;\n    }());\n    defineProperties(ArrayPrototype, {\n        sort: function sort(compareFn) {\n            if (typeof compareFn === 'undefined') {\n                return arraySort(this);\n            }\n            if (!isCallable(compareFn)) {\n                throw new TypeError('Array.prototype.sort callback must be a function');\n            }\n            return arraySort(this, compareFn);\n        }\n    }, sortIgnoresNonFunctions || !sortIgnoresUndefined || !sortThrowsOnRegex);\n\n    //\n    // Object\n    // ======\n    //\n\n    // ES5 15.2.3.14\n    // https://es5.github.io/#x15.2.3.14\n\n    // https://web.archive.org/web/20140727042234/http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n    // eslint-disable-next-line quote-props\n    var hasDontEnumBug = !isEnum({ 'toString': null }, 'toString'); // jscs:ignore disallowQuotedKeysInObjects\n    var hasProtoEnumBug = isEnum(function () {}, 'prototype');\n    var hasStringEnumBug = !owns('x', '0');\n    var equalsConstructorPrototype = function (o) {\n        var ctor = o.constructor;\n        return ctor && ctor.prototype === o;\n    };\n    var excludedKeys = {\n        $applicationCache: true,\n        $console: true,\n        $external: true,\n        $frame: true,\n        $frameElement: true,\n        $frames: true,\n        $innerHeight: true,\n        $innerWidth: true,\n        $onmozfullscreenchange: true,\n        $onmozfullscreenerror: true,\n        $outerHeight: true,\n        $outerWidth: true,\n        $pageXOffset: true,\n        $pageYOffset: true,\n        $parent: true,\n        $scrollLeft: true,\n        $scrollTop: true,\n        $scrollX: true,\n        $scrollY: true,\n        $self: true,\n        $webkitIndexedDB: true,\n        $webkitStorageInfo: true,\n        $window: true,\n\n        $width: true,\n        $height: true,\n        $top: true,\n        $localStorage: true\n    };\n    var hasAutomationEqualityBug = (function () {\n        /* globals window */\n        if (typeof window === 'undefined') {\n            return false;\n        }\n        for (var k in window) {\n            try {\n                if (!excludedKeys['$' + k] && owns(window, k) && window[k] !== null && typeof window[k] === 'object') {\n                    equalsConstructorPrototype(window[k]);\n                }\n            } catch (e) {\n                return true;\n            }\n        }\n        return false;\n    }());\n    var equalsConstructorPrototypeIfNotBuggy = function (object) {\n        if (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n            return equalsConstructorPrototype(object);\n        }\n        try {\n            return equalsConstructorPrototype(object);\n        } catch (e) {\n            return false;\n        }\n    };\n    var dontEnums = [\n        'toString',\n        'toLocaleString',\n        'valueOf',\n        'hasOwnProperty',\n        'isPrototypeOf',\n        'propertyIsEnumerable',\n        'constructor'\n    ];\n    var dontEnumsLength = dontEnums.length;\n\n    // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n    // can be replaced with require('is-arguments') if we ever use a build process instead\n    var isStandardArguments = function isArguments(value) {\n        return toStr(value) === '[object Arguments]';\n    };\n    var isLegacyArguments = function isArguments(value) {\n        return value !== null\n            && typeof value === 'object'\n            && typeof value.length === 'number'\n            && value.length >= 0\n            && !isArray(value)\n            && isCallable(value.callee);\n    };\n    var isArguments = isStandardArguments(arguments) ? isStandardArguments : isLegacyArguments;\n\n    defineProperties($Object, {\n        keys: function keys(object) {\n            var isFn = isCallable(object);\n            var isArgs = isArguments(object);\n            var isObject = object !== null && typeof object === 'object';\n            var isStr = isObject && isString(object);\n\n            if (!isObject && !isFn && !isArgs) {\n                throw new TypeError('Object.keys called on a non-object');\n            }\n\n            var theKeys = [];\n            var skipProto = hasProtoEnumBug && isFn;\n            if ((isStr && hasStringEnumBug) || isArgs) {\n                for (var i = 0; i < object.length; ++i) {\n                    pushCall(theKeys, $String(i));\n                }\n            }\n\n            if (!isArgs) {\n                for (var name in object) {\n                    if (!(skipProto && name === 'prototype') && owns(object, name)) {\n                        pushCall(theKeys, $String(name));\n                    }\n                }\n            }\n\n            if (hasDontEnumBug) {\n                var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n                for (var j = 0; j < dontEnumsLength; j++) {\n                    var dontEnum = dontEnums[j];\n                    if (!(skipConstructor && dontEnum === 'constructor') && owns(object, dontEnum)) {\n                        pushCall(theKeys, dontEnum);\n                    }\n                }\n            }\n            return theKeys;\n        }\n    });\n\n    var keysWorksWithArguments = $Object.keys && (function () {\n        // Safari 5.0 bug\n        return $Object.keys(arguments).length === 2;\n    }(1, 2));\n    var keysHasArgumentsLengthBug = $Object.keys && (function () {\n        var argKeys = $Object.keys(arguments);\n        return arguments.length !== 1 || argKeys.length !== 1 || argKeys[0] !== 1;\n    }(1));\n    var originalKeys = $Object.keys;\n    defineProperties($Object, {\n        keys: function keys(object) {\n            if (isArguments(object)) {\n                return originalKeys(arraySlice(object));\n            }\n            return originalKeys(object);\n\n        }\n    }, !keysWorksWithArguments || keysHasArgumentsLengthBug);\n\n    //\n    // Date\n    // ====\n    //\n\n    var hasNegativeMonthYearBug = new Date(-3509827329600292).getUTCMonth() !== 0;\n    var aNegativeTestDate = new Date(-1509842289600292);\n    var aPositiveTestDate = new Date(1449662400000);\n    var hasToUTCStringFormatBug = aNegativeTestDate.toUTCString() !== 'Mon, 01 Jan -45875 11:59:59 GMT';\n    var hasToDateStringFormatBug;\n    var hasToStringFormatBug;\n    var timeZoneOffset = aNegativeTestDate.getTimezoneOffset();\n    if (timeZoneOffset < -720) {\n        hasToDateStringFormatBug = aNegativeTestDate.toDateString() !== 'Tue Jan 02 -45875';\n        hasToStringFormatBug = !(/^Thu Dec 10 2015 \\d\\d:\\d\\d:\\d\\d GMT[-+]\\d\\d\\d\\d(?: |$)/).test(String(aPositiveTestDate));\n    } else {\n        hasToDateStringFormatBug = aNegativeTestDate.toDateString() !== 'Mon Jan 01 -45875';\n        hasToStringFormatBug = !(/^Wed Dec 09 2015 \\d\\d:\\d\\d:\\d\\d GMT[-+]\\d\\d\\d\\d(?: |$)/).test(String(aPositiveTestDate));\n    }\n\n    var originalGetFullYear = call.bind(Date.prototype.getFullYear);\n    var originalGetMonth = call.bind(Date.prototype.getMonth);\n    var originalGetDate = call.bind(Date.prototype.getDate);\n    var originalGetUTCFullYear = call.bind(Date.prototype.getUTCFullYear);\n    var originalGetUTCMonth = call.bind(Date.prototype.getUTCMonth);\n    var originalGetUTCDate = call.bind(Date.prototype.getUTCDate);\n    var originalGetUTCDay = call.bind(Date.prototype.getUTCDay);\n    var originalGetUTCHours = call.bind(Date.prototype.getUTCHours);\n    var originalGetUTCMinutes = call.bind(Date.prototype.getUTCMinutes);\n    var originalGetUTCSeconds = call.bind(Date.prototype.getUTCSeconds);\n    var originalGetUTCMilliseconds = call.bind(Date.prototype.getUTCMilliseconds);\n    var dayName = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n    var monthName = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var daysInMonth = function daysInMonth(month, year) {\n        return originalGetDate(new Date(year, month, 0));\n    };\n\n    defineProperties(Date.prototype, {\n        getFullYear: function getFullYear() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetFullYear(this);\n            if (year < 0 && originalGetMonth(this) > 11) {\n                return year + 1;\n            }\n            return year;\n        },\n        getMonth: function getMonth() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetFullYear(this);\n            var month = originalGetMonth(this);\n            if (year < 0 && month > 11) {\n                return 0;\n            }\n            return month;\n        },\n        getDate: function getDate() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetFullYear(this);\n            var month = originalGetMonth(this);\n            var date = originalGetDate(this);\n            if (year < 0 && month > 11) {\n                if (month === 12) {\n                    return date;\n                }\n                var days = daysInMonth(0, year + 1);\n                return (days - date) + 1;\n            }\n            return date;\n        },\n        getUTCFullYear: function getUTCFullYear() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetUTCFullYear(this);\n            if (year < 0 && originalGetUTCMonth(this) > 11) {\n                return year + 1;\n            }\n            return year;\n        },\n        getUTCMonth: function getUTCMonth() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetUTCFullYear(this);\n            var month = originalGetUTCMonth(this);\n            if (year < 0 && month > 11) {\n                return 0;\n            }\n            return month;\n        },\n        getUTCDate: function getUTCDate() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetUTCFullYear(this);\n            var month = originalGetUTCMonth(this);\n            var date = originalGetUTCDate(this);\n            if (year < 0 && month > 11) {\n                if (month === 12) {\n                    return date;\n                }\n                var days = daysInMonth(0, year + 1);\n                return (days - date) + 1;\n            }\n            return date;\n        }\n    }, hasNegativeMonthYearBug);\n\n    defineProperties(Date.prototype, {\n        toUTCString: function toUTCString() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var day = originalGetUTCDay(this);\n            var date = originalGetUTCDate(this);\n            var month = originalGetUTCMonth(this);\n            var year = originalGetUTCFullYear(this);\n            var hour = originalGetUTCHours(this);\n            var minute = originalGetUTCMinutes(this);\n            var second = originalGetUTCSeconds(this);\n            return dayName[day] + ', '\n                + (date < 10 ? '0' + date : date) + ' '\n                + monthName[month] + ' '\n                + year + ' '\n                + (hour < 10 ? '0' + hour : hour) + ':'\n                + (minute < 10 ? '0' + minute : minute) + ':'\n                + (second < 10 ? '0' + second : second) + ' GMT';\n        }\n    }, hasNegativeMonthYearBug || hasToUTCStringFormatBug);\n\n    // Opera 12 has `,`\n    defineProperties(Date.prototype, {\n        toDateString: function toDateString() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var day = this.getDay();\n            var date = this.getDate();\n            var month = this.getMonth();\n            var year = this.getFullYear();\n            return dayName[day] + ' '\n                + monthName[month] + ' '\n                + (date < 10 ? '0' + date : date) + ' '\n                + year;\n        }\n    }, hasNegativeMonthYearBug || hasToDateStringFormatBug);\n\n    // can't use defineProperties here because of toString enumeration issue in IE <= 8\n    if (hasNegativeMonthYearBug || hasToStringFormatBug) {\n        Date.prototype.toString = function toString() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var day = this.getDay();\n            var date = this.getDate();\n            var month = this.getMonth();\n            var year = this.getFullYear();\n            var hour = this.getHours();\n            var minute = this.getMinutes();\n            var second = this.getSeconds();\n            var timezoneOffset = this.getTimezoneOffset();\n            var hoursOffset = floor(abs(timezoneOffset) / 60);\n            var minutesOffset = floor(abs(timezoneOffset) % 60);\n            return dayName[day] + ' '\n                + monthName[month] + ' '\n                + (date < 10 ? '0' + date : date) + ' '\n                + year + ' '\n                + (hour < 10 ? '0' + hour : hour) + ':'\n                + (minute < 10 ? '0' + minute : minute) + ':'\n                + (second < 10 ? '0' + second : second) + ' GMT'\n                + (timezoneOffset > 0 ? '-' : '+')\n                + (hoursOffset < 10 ? '0' + hoursOffset : hoursOffset)\n                + (minutesOffset < 10 ? '0' + minutesOffset : minutesOffset);\n        };\n        if (supportsDescriptors) {\n            $Object.defineProperty(Date.prototype, 'toString', {\n                configurable: true,\n                enumerable: false,\n                writable: true\n            });\n        }\n    }\n\n    // ES5 15.9.5.43\n    // https://es5.github.io/#x15.9.5.43\n    // This function returns a String value represent the instance in time\n    // represented by this Date object. The format of the String is the Date Time\n    // string format defined in 15.9.1.15. All fields are present in the String.\n    // The time zone is always UTC, denoted by the suffix Z. If the time value of\n    // this object is not a finite Number a RangeError exception is thrown.\n    var negativeDate = -62198755200000;\n    var negativeYearString = '-000001';\n    var hasNegativeDateBug = Date.prototype.toISOString && new Date(negativeDate).toISOString().indexOf(negativeYearString) === -1; // eslint-disable-line max-len\n    var hasSafari51DateBug = Date.prototype.toISOString && new Date(-1).toISOString() !== '1969-12-31T23:59:59.999Z';\n\n    var getTime = call.bind(Date.prototype.getTime);\n\n    defineProperties(Date.prototype, {\n        toISOString: function toISOString() {\n            if (!isFinite(this) || !isFinite(getTime(this))) {\n                // Adope Photoshop requires the second check.\n                throw new RangeError('Date.prototype.toISOString called on non-finite value.');\n            }\n\n            var year = originalGetUTCFullYear(this);\n\n            var month = originalGetUTCMonth(this);\n            // see https://github.com/es-shims/es5-shim/issues/111\n            year += floor(month / 12);\n            month = ((month % 12) + 12) % 12;\n\n            // the date time string format is specified in 15.9.1.15.\n            var result = [\n                month + 1,\n                originalGetUTCDate(this),\n                originalGetUTCHours(this),\n                originalGetUTCMinutes(this),\n                originalGetUTCSeconds(this)\n            ];\n            year = (\n                (year < 0 ? '-' : (year > 9999 ? '+' : ''))\n                + strSlice('00000' + abs(year), (0 <= year && year <= 9999) ? -4 : -6)\n            );\n\n            for (var i = 0; i < result.length; ++i) {\n                // pad months, days, hours, minutes, and seconds to have two digits.\n                result[i] = strSlice('00' + result[i], -2);\n            }\n            // pad milliseconds to have three digits.\n            return (\n                year + '-' + arraySlice(result, 0, 2).join('-')\n                + 'T' + arraySlice(result, 2).join(':') + '.'\n                + strSlice('000' + originalGetUTCMilliseconds(this), -3) + 'Z'\n            );\n        }\n    }, hasNegativeDateBug || hasSafari51DateBug);\n\n    // ES5 15.9.5.44\n    // https://es5.github.io/#x15.9.5.44\n    // This function provides a String representation of a Date object for use by\n    // JSON.stringify (15.12.3).\n    var dateToJSONIsSupported = (function () {\n        try {\n            return Date.prototype.toJSON\n                && new Date(NaN).toJSON() === null\n                && new Date(negativeDate).toJSON().indexOf(negativeYearString) !== -1\n                && Date.prototype.toJSON.call({ // generic\n                    toISOString: function () { return true; }\n                });\n        } catch (e) {\n            return false;\n        }\n    }());\n    if (!dateToJSONIsSupported) {\n        Date.prototype.toJSON = function toJSON(key) {\n            // When the toJSON method is called with argument key, the following\n            // steps are taken:\n\n            // 1.  Let O be the result of calling ToObject, giving it the this\n            // value as its argument.\n            // 2. Let tv be ES.ToPrimitive(O, hint Number).\n            var O = $Object(this);\n            var tv = ES.ToPrimitive(O);\n            // 3. If tv is a Number and is not finite, return null.\n            if (typeof tv === 'number' && !isFinite(tv)) {\n                return null;\n            }\n            // 4. Let toISO be the result of calling the [[Get]] internal method of\n            // O with argument \"toISOString\".\n            var toISO = O.toISOString;\n            // 5. If IsCallable(toISO) is false, throw a TypeError exception.\n            if (!isCallable(toISO)) {\n                throw new TypeError('toISOString property is not callable');\n            }\n            // 6. Return the result of calling the [[Call]] internal method of\n            //  toISO with O as the this value and an empty argument list.\n            return toISO.call(O);\n\n            // NOTE 1 The argument is ignored.\n\n            // NOTE 2 The toJSON function is intentionally generic; it does not\n            // require that its this value be a Date object. Therefore, it can be\n            // transferred to other kinds of objects for use as a method. However,\n            // it does require that any such object have a toISOString method. An\n            // object is free to use the argument key to filter its\n            // stringification.\n        };\n    }\n\n    // ES5 15.9.4.2\n    // https://es5.github.io/#x15.9.4.2\n    // based on work shared by Daniel Friesen (dantman)\n    // https://gist.github.com/303249\n    var supportsExtendedYears = Date.parse('+033658-09-27T01:46:40.000Z') === 1e15;\n    var acceptsInvalidDates = !isNaN(Date.parse('2012-04-04T24:00:00.500Z')) || !isNaN(Date.parse('2012-11-31T23:59:59.000Z')) || !isNaN(Date.parse('2012-12-31T23:59:60.000Z'));\n    var doesNotParseY2KNewYear = isNaN(Date.parse('2000-01-01T00:00:00.000Z'));\n    if (doesNotParseY2KNewYear || acceptsInvalidDates || !supportsExtendedYears) {\n        // XXX global assignment won't work in embeddings that use\n        // an alternate object for the context.\n        var maxSafeUnsigned32Bit = pow(2, 31) - 1;\n        var hasSafariSignedIntBug = isActualNaN(new Date(1970, 0, 1, 0, 0, 0, maxSafeUnsigned32Bit + 1).getTime());\n        // eslint-disable-next-line no-implicit-globals, no-global-assign\n        Date = (function (NativeDate) {\n            // Date.length === 7\n            var DateShim = function Date(Y, M, D, h, m, s, ms) {\n                var length = arguments.length;\n                var date;\n                if (this instanceof NativeDate) {\n                    var seconds = s;\n                    var millis = ms;\n                    if (hasSafariSignedIntBug && length >= 7 && ms > maxSafeUnsigned32Bit) {\n                        // work around a Safari 8/9 bug where it treats the seconds as signed\n                        var msToShift = floor(ms / maxSafeUnsigned32Bit) * maxSafeUnsigned32Bit;\n                        var sToShift = floor(msToShift / 1e3);\n                        seconds += sToShift;\n                        millis -= sToShift * 1e3;\n                    }\n                    var parsed = DateShim.parse(Y);\n                    var hasNegTimestampParseBug = isNaN(parsed);\n                    date = length === 1 && $String(Y) === Y && !hasNegTimestampParseBug // isString(Y)\n                        // We explicitly pass it through parse:\n                        ? new NativeDate(parsed)\n                        // We have to manually make calls depending on argument\n                        // length here\n                        : length >= 7 ? new NativeDate(Y, M, D, h, m, seconds, millis)\n                            : length >= 6 ? new NativeDate(Y, M, D, h, m, seconds)\n                                : length >= 5 ? new NativeDate(Y, M, D, h, m)\n                                    : length >= 4 ? new NativeDate(Y, M, D, h)\n                                        : length >= 3 ? new NativeDate(Y, M, D)\n                                            : length >= 2 ? new NativeDate(Y, M)\n                                                : length >= 1 ? new NativeDate(Y instanceof NativeDate ? +Y : Y)\n                                                    : new NativeDate();\n                } else {\n                    date = NativeDate.apply(this, arguments);\n                }\n                if (!isPrimitive(date)) {\n                    // Prevent mixups with unfixed Date object\n                    defineProperties(date, { constructor: DateShim }, true);\n                }\n                return date;\n            };\n\n            // 15.9.1.15 Date Time String Format.\n            var isoDateExpression = new RegExp('^'\n                + '(\\\\d{4}|[+-]\\\\d{6})' // four-digit year capture or sign + 6-digit extended year\n                + '(?:-(\\\\d{2})' // optional month capture\n                + '(?:-(\\\\d{2})' // optional day capture\n                + '(?:' // capture hours:minutes:seconds.milliseconds\n                    + 'T(\\\\d{2})' // hours capture\n                    + ':(\\\\d{2})' // minutes capture\n                    + '(?:' // optional :seconds.milliseconds\n                        + ':(\\\\d{2})' // seconds capture\n                        + '(?:(\\\\.\\\\d{1,}))?' // milliseconds capture\n                    + ')?'\n                + '(' // capture UTC offset component\n                    + 'Z|' // UTC capture\n                    + '(?:' // offset specifier +/-hours:minutes\n                        + '([-+])' // sign capture\n                        + '(\\\\d{2})' // hours offset capture\n                        + ':(\\\\d{2})' // minutes offset capture\n                    + ')'\n                + ')?)?)?)?'\n            + '$');\n\n            var months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\n\n            var dayFromMonth = function dayFromMonth(year, month) {\n                var t = month > 1 ? 1 : 0;\n                return (\n                    months[month]\n                        + floor((year - 1969 + t) / 4)\n                        - floor((year - 1901 + t) / 100)\n                        + floor((year - 1601 + t) / 400)\n                        + (365 * (year - 1970))\n                );\n            };\n\n            var toUTC = function toUTC(t) {\n                var s = 0;\n                var ms = t;\n                if (hasSafariSignedIntBug && ms > maxSafeUnsigned32Bit) {\n                    // work around a Safari 8/9 bug where it treats the seconds as signed\n                    var msToShift = floor(ms / maxSafeUnsigned32Bit) * maxSafeUnsigned32Bit;\n                    var sToShift = floor(msToShift / 1e3);\n                    s += sToShift;\n                    ms -= sToShift * 1e3;\n                }\n                return $Number(new NativeDate(1970, 0, 1, 0, 0, s, ms));\n            };\n\n            // Copy any custom methods a 3rd party library may have added\n            for (var key in NativeDate) {\n                if (owns(NativeDate, key)) {\n                    DateShim[key] = NativeDate[key];\n                }\n            }\n\n            // Copy \"native\" methods explicitly; they may be non-enumerable\n            defineProperties(DateShim, {\n                now: NativeDate.now,\n                UTC: NativeDate.UTC\n            }, true);\n            DateShim.prototype = NativeDate.prototype;\n            defineProperties(DateShim.prototype, { constructor: DateShim }, true);\n\n            // Upgrade Date.parse to handle simplified ISO 8601 strings\n            var parseShim = function parse(string) {\n                var match = isoDateExpression.exec(string);\n                if (match) {\n                    // parse months, days, hours, minutes, seconds, and milliseconds\n                    // provide default values if necessary\n                    // parse the UTC offset component\n                    var year = $Number(match[1]),\n                        month = $Number(match[2] || 1) - 1,\n                        day = $Number(match[3] || 1) - 1,\n                        hour = $Number(match[4] || 0),\n                        minute = $Number(match[5] || 0),\n                        second = $Number(match[6] || 0),\n                        millisecond = floor($Number(match[7] || 0) * 1000),\n                        // When time zone is missed, local offset should be used\n                        // (ES 5.1 bug)\n                        // see https://bugs.ecmascript.org/show_bug.cgi?id=112\n                        isLocalTime = Boolean(match[4] && !match[8]),\n                        signOffset = match[9] === '-' ? 1 : -1,\n                        hourOffset = $Number(match[10] || 0),\n                        minuteOffset = $Number(match[11] || 0),\n                        result;\n                    var hasMinutesOrSecondsOrMilliseconds = minute > 0 || second > 0 || millisecond > 0;\n                    if (\n                        hour < (hasMinutesOrSecondsOrMilliseconds ? 24 : 25)\n                        && minute < 60 && second < 60 && millisecond < 1000\n                        && month > -1 && month < 12 && hourOffset < 24\n                        && minuteOffset < 60 // detect invalid offsets\n                        && day > -1\n                        && day < (dayFromMonth(year, month + 1) - dayFromMonth(year, month))\n                    ) {\n                        result = (\n                            ((dayFromMonth(year, month) + day) * 24)\n                            + hour\n                            + (hourOffset * signOffset)\n                        ) * 60;\n                        result = ((\n                            ((result + minute + (minuteOffset * signOffset)) * 60)\n                            + second\n                        ) * 1000) + millisecond;\n                        if (isLocalTime) {\n                            result = toUTC(result);\n                        }\n                        if (-8.64e15 <= result && result <= 8.64e15) {\n                            return result;\n                        }\n                    }\n                    return NaN;\n                }\n                return NativeDate.parse.apply(this, arguments);\n            };\n            defineProperties(DateShim, { parse: parseShim });\n\n            return DateShim;\n        }(Date));\n    }\n\n    // ES5 15.9.4.4\n    // https://es5.github.io/#x15.9.4.4\n    if (!Date.now) {\n        Date.now = function now() {\n            return new Date().getTime();\n        };\n    }\n\n    //\n    // Number\n    // ======\n    //\n\n    // ES5.1 15.7.4.5\n    // https://es5.github.io/#x15.7.4.5\n    var hasToFixedBugs = NumberPrototype.toFixed && (\n        (0.00008).toFixed(3) !== '0.000'\n        || (0.9).toFixed(0) !== '1'\n        || (1.255).toFixed(2) !== '1.25'\n        || (1000000000000000128).toFixed(0) !== '1000000000000000128'\n    );\n\n    var toFixedHelpers = {\n        base: 1e7,\n        size: 6,\n        data: [0, 0, 0, 0, 0, 0],\n        multiply: function multiply(n, c) {\n            var i = -1;\n            var c2 = c;\n            while (++i < toFixedHelpers.size) {\n                c2 += n * toFixedHelpers.data[i];\n                toFixedHelpers.data[i] = c2 % toFixedHelpers.base;\n                c2 = floor(c2 / toFixedHelpers.base);\n            }\n        },\n        divide: function divide(n) {\n            var i = toFixedHelpers.size;\n            var c = 0;\n            while (--i >= 0) {\n                c += toFixedHelpers.data[i];\n                toFixedHelpers.data[i] = floor(c / n);\n                c = (c % n) * toFixedHelpers.base;\n            }\n        },\n        numToString: function numToString() {\n            var i = toFixedHelpers.size;\n            var s = '';\n            while (--i >= 0) {\n                if (s !== '' || i === 0 || toFixedHelpers.data[i] !== 0) {\n                    var t = $String(toFixedHelpers.data[i]);\n                    if (s === '') {\n                        s = t;\n                    } else {\n                        s += strSlice('0000000', 0, 7 - t.length) + t;\n                    }\n                }\n            }\n            return s;\n        },\n        pow: function pow(x, n, acc) {\n            return (n === 0 ? acc : (n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc)));\n        },\n        log: function log(x) {\n            var n = 0;\n            var x2 = x;\n            while (x2 >= 4096) {\n                n += 12;\n                x2 /= 4096;\n            }\n            while (x2 >= 2) {\n                n += 1;\n                x2 /= 2;\n            }\n            return n;\n        }\n    };\n\n    var toFixedShim = function toFixed(fractionDigits) {\n        var f, x, s, m, e, z, j, k;\n\n        // Test for NaN and round fractionDigits down\n        f = $Number(fractionDigits);\n        f = isActualNaN(f) ? 0 : floor(f);\n\n        if (f < 0 || f > 20) {\n            throw new RangeError('Number.toFixed called with invalid number of decimals');\n        }\n\n        x = $Number(this);\n\n        if (isActualNaN(x)) {\n            return 'NaN';\n        }\n\n        // If it is too big or small, return the string value of the number\n        if (x <= -1e21 || x >= 1e21) {\n            return $String(x);\n        }\n\n        s = '';\n\n        if (x < 0) {\n            s = '-';\n            x = -x;\n        }\n\n        m = '0';\n\n        if (x > 1e-21) {\n            // 1e-21 < x < 1e21\n            // -70 < log2(x) < 70\n            e = toFixedHelpers.log(x * toFixedHelpers.pow(2, 69, 1)) - 69;\n            z = (e < 0 ? x * toFixedHelpers.pow(2, -e, 1) : x / toFixedHelpers.pow(2, e, 1));\n            z *= 0x10000000000000; // pow(2, 52);\n            e = 52 - e;\n\n            // -18 < e < 122\n            // x = z / 2 ^ e\n            if (e > 0) {\n                toFixedHelpers.multiply(0, z);\n                j = f;\n\n                while (j >= 7) {\n                    toFixedHelpers.multiply(1e7, 0);\n                    j -= 7;\n                }\n\n                toFixedHelpers.multiply(toFixedHelpers.pow(10, j, 1), 0);\n                j = e - 1;\n\n                while (j >= 23) {\n                    toFixedHelpers.divide(1 << 23);\n                    j -= 23;\n                }\n\n                toFixedHelpers.divide(1 << j);\n                toFixedHelpers.multiply(1, 1);\n                toFixedHelpers.divide(2);\n                m = toFixedHelpers.numToString();\n            } else {\n                toFixedHelpers.multiply(0, z);\n                toFixedHelpers.multiply(1 << (-e), 0);\n                m = toFixedHelpers.numToString() + strSlice('0.00000000000000000000', 2, 2 + f);\n            }\n        }\n\n        if (f > 0) {\n            k = m.length;\n\n            if (k <= f) {\n                m = s + strSlice('0.0000000000000000000', 0, f - k + 2) + m;\n            } else {\n                m = s + strSlice(m, 0, k - f) + '.' + strSlice(m, k - f);\n            }\n        } else {\n            m = s + m;\n        }\n\n        return m;\n    };\n    defineProperties(NumberPrototype, { toFixed: toFixedShim }, hasToFixedBugs);\n\n    var hasToExponentialRoundingBug = (function () {\n        try {\n            return (-6.9e-11).toExponential(4) !== '-6.9000e-11';\n        } catch (e) {\n            return false;\n        }\n    }());\n    var toExponentialAllowsInfiniteDigits = (function () {\n        try {\n            (1).toExponential(Infinity);\n            (1).toExponential(-Infinity);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }());\n    var originalToExponential = call.bind(NumberPrototype.toExponential);\n    var numberToString = call.bind(NumberPrototype.toString);\n    var numberValueOf = call.bind(NumberPrototype.valueOf);\n    defineProperties(NumberPrototype, {\n        toExponential: function toExponential(fractionDigits) {\n            // 1: Let x be this Number value.\n            var x = numberValueOf(this);\n\n            if (typeof fractionDigits === 'undefined') {\n                return originalToExponential(x);\n            }\n            var f = ES.ToInteger(fractionDigits);\n            if (isActualNaN(x)) {\n                return 'NaN';\n            }\n\n            if (f < 0 || f > 20) {\n                if (!isFinite(f)) {\n                    // IE 6 doesn't throw in the native one\n                    throw new RangeError('toExponential() argument must be between 0 and 20');\n                }\n                // this will probably have thrown already\n                return originalToExponential(x, f);\n            }\n\n            // only cases left are a finite receiver + in-range fractionDigits\n\n            // implementation adapted from https://gist.github.com/SheetJSDev/1100ad56b9f856c95299ed0e068eea08\n\n            // 4: Let s be the empty string\n            var s = '';\n\n            // 5: If x < 0\n            if (x < 0) {\n                s = '-';\n                x = -x;\n            }\n\n            // 6: If x = +Infinity\n            if (x === Infinity) {\n                return s + 'Infinity';\n            }\n\n            // 7: If fractionDigits is not undefined and (f < 0 or f > 20), throw a RangeError exception.\n            if (typeof fractionDigits !== 'undefined' && (f < 0 || f > 20)) {\n                throw new RangeError('Fraction digits ' + fractionDigits + ' out of range');\n            }\n\n            var m = '';\n            var e = 0;\n            var c = '';\n            var d = '';\n\n            // 8: If x = 0 then\n            if (x === 0) {\n                e = 0;\n                f = 0;\n                m = '0';\n            } else { // 9: Else, x != 0\n                var L = log10(x);\n                e = floor(L); // 10 ** e <= x and x < 10 ** (e+1)\n                var n = 0;\n                if (typeof fractionDigits !== 'undefined') { // eslint-disable-line no-negated-condition\n                    var w = pow(10, e - f); // x / 10 ** (f+1) < w and w <= x / 10 ** f\n                    n = round(x / w); // 10 ** f <= n and n < 10 ** (f+1)\n                    if (2 * x >= (((2 * n) + 1) * w)) {\n                        n += 1; // pick larger value\n                    }\n                    if (n >= pow(10, f + 1)) { // 10e-1 = 1e0\n                        n /= 10;\n                        e += 1;\n                    }\n                } else {\n                    f = 16; // start from Math.ceil(Math.log10(Number.MAX_SAFE_INTEGER)) and loop down\n                    var guess_n = round(pow(10, L - e + f));\n                    var target_f = f;\n                    while (f-- > 0) {\n                        guess_n = round(pow(10, L - e + f));\n                        if (\n                            abs((guess_n * pow(10, e - f)) - x)\n                            <= abs((n * pow(10, e - target_f)) - x)\n                        ) {\n                            target_f = f;\n                            n = guess_n;\n                        }\n                    }\n                }\n                m = numberToString(n, 10);\n                if (typeof fractionDigits === 'undefined') {\n                    while (strSlice(m, -1) === '0') {\n                        m = strSlice(m, 0, -1);\n                        d += 1;\n                    }\n                }\n            }\n\n            // 10: If f != 0, then\n            if (f !== 0) {\n                m = strSlice(m, 0, 1) + '.' + strSlice(m, 1);\n            }\n\n            // 11: If e = 0, then\n            if (e === 0) {\n                c = '+';\n                d = '0';\n            } else { // 12: Else\n                c = e > 0 ? '+' : '-';\n                d = numberToString(abs(e), 10);\n            }\n\n            // 13: Let m be the concatenation of the four Strings m, \"e\", c, and d.\n            m += 'e' + c + d;\n\n            // 14: Return the concatenation of the Strings s and m.\n            return s + m;\n        }\n    }, hasToExponentialRoundingBug || toExponentialAllowsInfiniteDigits);\n\n    var hasToPrecisionUndefinedBug = (function () {\n        try {\n            return 1.0.toPrecision(undefined) === '1';\n        } catch (e) {\n            return true;\n        }\n    }());\n    var originalToPrecision = call.bind(NumberPrototype.toPrecision);\n    defineProperties(NumberPrototype, {\n        toPrecision: function toPrecision(precision) {\n            return typeof precision === 'undefined' ? originalToPrecision(this) : originalToPrecision(this, precision);\n        }\n    }, hasToPrecisionUndefinedBug);\n\n    //\n    // String\n    // ======\n    //\n\n    // ES5 15.5.4.14\n    // https://es5.github.io/#x15.5.4.14\n\n    // [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n    // Many browsers do not split properly with regular expressions or they\n    // do not perform the split correctly under obscure conditions.\n    // See https://blog.stevenlevithan.com/archives/cross-browser-split\n    // I've tested in many browsers and this seems to cover the deviant ones:\n    //    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n    //    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n    //    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n    //       [undefined, \"t\", undefined, \"e\", ...]\n    //    ''.split(/.?/) should be [], not [\"\"]\n    //    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\n    if (\n        'ab'.split(/(?:ab)*/).length !== 2\n        || '.'.split(/(.?)(.?)/).length !== 4\n        || 'tesst'.split(/(s)*/)[1] === 't'\n        || 'test'.split(/(?:)/, -1).length !== 4\n        || ''.split(/.?/).length\n        || '.'.split(/()()/).length > 1\n    ) {\n        (function () {\n            var compliantExecNpcg = typeof (/()??/).exec('')[1] === 'undefined'; // NPCG: nonparticipating capturing group\n            var maxSafe32BitInt = pow(2, 32) - 1;\n\n            StringPrototype.split = function split(separator, limit) {\n                var string = String(this);\n                if (typeof separator === 'undefined' && limit === 0) {\n                    return [];\n                }\n\n                // If `separator` is not a regex, use native split\n                if (!isRegex(separator)) {\n                    return strSplit(this, separator, limit);\n                }\n\n                var output = [];\n                var flags = (separator.ignoreCase ? 'i' : '')\n                            + (separator.multiline ? 'm' : '')\n                            + (separator.unicode ? 'u' : '') // in ES6\n                            + (separator.sticky ? 'y' : ''), // Firefox 3+ and ES6\n                    lastLastIndex = 0,\n                    // Make `global` and avoid `lastIndex` issues by working with a copy\n                    separator2, match, lastIndex, lastLength;\n                var separatorCopy = new RegExp(separator.source, flags + 'g');\n                if (!compliantExecNpcg) {\n                    // Doesn't need flags gy, but they don't hurt\n                    separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n                }\n                /* Values for `limit`, per the spec:\n                 * If undefined: 4294967295 // maxSafe32BitInt\n                 * If 0, Infinity, or NaN: 0\n                 * If positive number: limit = floor(limit); if (limit > 4294967295) limit -= 4294967296;\n                 * If negative number: 4294967296 - floor(abs(limit))\n                 * If other: Type-convert, then use the above rules\n                 */\n                var splitLimit = typeof limit === 'undefined' ? maxSafe32BitInt : ES.ToUint32(limit);\n                match = separatorCopy.exec(string);\n                while (match) {\n                    // `separatorCopy.lastIndex` is not reliable cross-browser\n                    lastIndex = match.index + match[0].length;\n                    if (lastIndex > lastLastIndex) {\n                        pushCall(output, strSlice(string, lastLastIndex, match.index));\n                        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                        // nonparticipating capturing groups\n                        if (!compliantExecNpcg && match.length > 1) {\n                            /* eslint-disable no-loop-func */\n                            match[0].replace(separator2, function () {\n                                for (var i = 1; i < arguments.length - 2; i++) {\n                                    if (typeof arguments[i] === 'undefined') {\n                                        match[i] = void 0;\n                                    }\n                                }\n                            });\n                            /* eslint-enable no-loop-func */\n                        }\n                        if (match.length > 1 && match.index < string.length) {\n                            array_push.apply(output, arraySlice(match, 1));\n                        }\n                        lastLength = match[0].length;\n                        lastLastIndex = lastIndex;\n                        if (output.length >= splitLimit) {\n                            break;\n                        }\n                    }\n                    if (separatorCopy.lastIndex === match.index) {\n                        separatorCopy.lastIndex++; // Avoid an infinite loop\n                    }\n                    match = separatorCopy.exec(string);\n                }\n                if (lastLastIndex === string.length) {\n                    if (lastLength || !separatorCopy.test('')) {\n                        pushCall(output, '');\n                    }\n                } else {\n                    pushCall(output, strSlice(string, lastLastIndex));\n                }\n                return output.length > splitLimit ? arraySlice(output, 0, splitLimit) : output;\n            };\n        }());\n\n    // [bugfix, chrome]\n    // If separator is undefined, then the result array contains just one String,\n    // which is the this value (converted to a String). If limit is not undefined,\n    // then the output array is truncated so that it contains no more than limit\n    // elements.\n    // \"0\".split(undefined, 0) -> []\n    } else if ('0'.split(void 0, 0).length) {\n        StringPrototype.split = function split(separator, limit) {\n            if (typeof separator === 'undefined' && limit === 0) {\n                return [];\n            }\n            return strSplit(this, separator, limit);\n        };\n    }\n\n    var str_replace = StringPrototype.replace;\n    var replaceReportsGroupsCorrectly = (function () {\n        var groups = [];\n        'x'.replace(/x(.)?/g, function (match, group) {\n            pushCall(groups, group);\n        });\n        return groups.length === 1 && typeof groups[0] === 'undefined';\n    }());\n\n    if (!replaceReportsGroupsCorrectly) {\n        StringPrototype.replace = function replace(searchValue, replaceValue) {\n            var isFn = isCallable(replaceValue);\n            var hasCapturingGroups = isRegex(searchValue) && (/\\)[*?]/).test(searchValue.source);\n            if (!isFn || !hasCapturingGroups) {\n                return str_replace.call(this, searchValue, replaceValue);\n            }\n            var wrappedReplaceValue = function (match) {\n                var length = arguments.length;\n                var originalLastIndex = searchValue.lastIndex;\n                searchValue.lastIndex = 0; // eslint-disable-line no-param-reassign\n                var args = searchValue.exec(match) || [];\n                searchValue.lastIndex = originalLastIndex; // eslint-disable-line no-param-reassign\n                pushCall(args, arguments[length - 2], arguments[length - 1]);\n                return replaceValue.apply(this, args);\n            };\n            return str_replace.call(this, searchValue, wrappedReplaceValue);\n\n        };\n    }\n\n    // ECMA-262, 3rd B.2.3\n    // Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n    // non-normative section suggesting uniform semantics and it should be\n    // normalized across all browsers\n    // [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\n    var hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\n    var string_substr = hasNegativeSubstrBug && call.bind(StringPrototype.substr);\n    defineProperties(StringPrototype, {\n        substr: function substr(start, length) {\n            var normalizedStart = start;\n            if (start < 0) {\n                normalizedStart = max(this.length + start, 0);\n            }\n            return string_substr(this, normalizedStart, length);\n        }\n    }, hasNegativeSubstrBug);\n\n    // ES5 15.5.4.20\n    // whitespace from: https://es5.github.io/#x15.5.4.20\n    var mvs = '\\u180E';\n    var mvsIsWS = (/\\s/).test(mvs);\n    var ws = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF'\n        .replace(/\\S/g, ''); // remove the mongolian vowel separator (\\u180E) in modern engines\n    var zeroWidth = '\\u200b';\n    var wsRegexChars = '[' + ws + ']';\n    var trimBeginRegexp = new RegExp('^' + wsRegexChars + wsRegexChars + '*');\n    var trimEndRegexp = new RegExp(wsRegexChars + wsRegexChars + '*$');\n    var hasTrimWhitespaceBug = StringPrototype.trim && (\n        ws.trim() !== '' // if ws is not considered whitespace\n        || zeroWidth.trim() === '' // if zero-width IS considered whitespace\n        || mvs.trim() !== (mvsIsWS ? '' : mvs) // if MVS is either wrongly considered whitespace, or, wrongly considered NOT whitespace\n    );\n    defineProperties(StringPrototype, {\n        // https://blog.stevenlevithan.com/archives/faster-trim-javascript\n        // http://perfectionkills.com/whitespace-deviations/\n        trim: function trim() {\n            'use strict';\n\n            if (typeof this === 'undefined' || this === null) {\n                throw new TypeError(\"can't convert \" + this + ' to object');\n            }\n            return $String(this).replace(trimBeginRegexp, '').replace(trimEndRegexp, '');\n        }\n    }, hasTrimWhitespaceBug);\n    var trim = call.bind(String.prototype.trim);\n\n    var hasLastIndexBug = StringPrototype.lastIndexOf && 'abcあい'.lastIndexOf('あい', 2) !== -1;\n    defineProperties(StringPrototype, {\n        lastIndexOf: function lastIndexOf(searchString) {\n            if (typeof this === 'undefined' || this === null) {\n                throw new TypeError(\"can't convert \" + this + ' to object');\n            }\n            var S = $String(this);\n            var searchStr = $String(searchString);\n            var numPos = arguments.length > 1 ? $Number(arguments[1]) : NaN;\n            var pos = isActualNaN(numPos) ? Infinity : ES.ToInteger(numPos);\n            var start = min(max(pos, 0), S.length);\n            var searchLen = searchStr.length;\n            var k = start + searchLen;\n            while (k > 0) {\n                k = max(0, k - searchLen);\n                var index = strIndexOf(strSlice(S, k, start + searchLen), searchStr);\n                if (index !== -1) {\n                    return k + index;\n                }\n            }\n            return -1;\n        }\n    }, hasLastIndexBug);\n\n    var originalLastIndexOf = StringPrototype.lastIndexOf;\n    defineProperties(StringPrototype, {\n        lastIndexOf: function lastIndexOf(searchString) {\n            return originalLastIndexOf.apply(this, arguments);\n        }\n    }, StringPrototype.lastIndexOf.length !== 1);\n\n    var hexRegex = /^[-+]?0[xX]/;\n\n    // ES-5 15.1.2.2\n    if (\n        parseInt(ws + '08') !== 8 // eslint-disable-line radix\n        || parseInt(ws + '0x16') !== 22 // eslint-disable-line radix\n        || (mvsIsWS ? parseInt(mvs + 1) !== 1 : !isNaN(parseInt(mvs + 1))) // eslint-disable-line radix\n    ) {\n        // eslint-disable-next-line no-global-assign, no-implicit-globals\n        parseInt = (function (origParseInt) {\n            return function parseInt(str, radix) {\n                if (this instanceof parseInt) { new origParseInt(); } // eslint-disable-line new-cap, no-new, max-statements-per-line\n                var string = trim(String(str));\n                var defaultedRadix = $Number(radix) || (hexRegex.test(string) ? 16 : 10);\n                return origParseInt(string, defaultedRadix);\n            };\n        }(parseInt));\n    }\n    // Edge 15-18\n    var parseIntFailsToThrowOnBoxedSymbols = (function () {\n        if (typeof Symbol !== 'function') {\n            return false;\n        }\n        try {\n            // eslint-disable-next-line radix\n            parseInt(Object(Symbol.iterator));\n            return true;\n        } catch (e) { /**/ }\n\n        try {\n            // eslint-disable-next-line radix\n            parseInt(Symbol.iterator);\n            return true;\n        } catch (e) { /**/ }\n\n        return false;\n    }());\n    if (parseIntFailsToThrowOnBoxedSymbols) {\n        var symbolValueOf = Symbol.prototype.valueOf;\n        // eslint-disable-next-line no-global-assign, no-implicit-globals\n        parseInt = (function (origParseInt) {\n            return function parseInt(str, radix) {\n                if (this instanceof parseInt) { new origParseInt(); } // eslint-disable-line new-cap, no-new, max-statements-per-line\n                var isSym = typeof str === 'symbol';\n                if (!isSym && str && typeof str === 'object') {\n                    try {\n                        symbolValueOf.call(str);\n                        isSym = true;\n                    } catch (e) { /**/ }\n                }\n                if (isSym) {\n                    // handle Symbols in node 8.3/8.4\n                    // eslint-disable-next-line no-implicit-coercion, no-unused-expressions\n                    '' + str; // jscs:ignore disallowImplicitTypeConversion\n                }\n                var string = trim(String(str));\n                var defaultedRadix = $Number(radix) || (hexRegex.test(string) ? 16 : 10);\n                return origParseInt(string, defaultedRadix);\n            };\n        }(parseInt));\n    }\n\n    // https://es5.github.io/#x15.1.2.3\n    if (1 / parseFloat('-0') !== -Infinity) {\n        // eslint-disable-next-line no-global-assign, no-implicit-globals, no-native-reassign\n        parseFloat = (function (origParseFloat) {\n            return function parseFloat(string) {\n                var inputString = trim(String(string));\n                var result = origParseFloat(inputString);\n                return result === 0 && strSlice(inputString, 0, 1) === '-' ? -0 : result;\n            };\n        }(parseFloat));\n    }\n\n    if (String(new RangeError('test')) !== 'RangeError: test') {\n        var errorToStringShim = function toString() {\n            if (typeof this === 'undefined' || this === null) {\n                throw new TypeError(\"can't convert \" + this + ' to object');\n            }\n            var name = this.name;\n            if (typeof name === 'undefined') {\n                name = 'Error';\n            } else if (typeof name !== 'string') {\n                name = $String(name);\n            }\n            var msg = this.message;\n            if (typeof msg === 'undefined') {\n                msg = '';\n            } else if (typeof msg !== 'string') {\n                msg = $String(msg);\n            }\n            if (!name) {\n                return msg;\n            }\n            if (!msg) {\n                return name;\n            }\n            return name + ': ' + msg;\n        };\n        // can't use defineProperties here because of toString enumeration issue in IE <= 8\n        Error.prototype.toString = errorToStringShim;\n    }\n\n    if (supportsDescriptors) {\n        var ensureNonEnumerable = function (obj, prop) {\n            if (isEnum(obj, prop)) {\n                var desc = Object.getOwnPropertyDescriptor(obj, prop);\n                if (desc.configurable) {\n                    desc.enumerable = false;\n                    Object.defineProperty(obj, prop, desc);\n                }\n            }\n        };\n        ensureNonEnumerable(Error.prototype, 'message');\n        if (Error.prototype.message !== '') {\n            Error.prototype.message = '';\n        }\n        ensureNonEnumerable(Error.prototype, 'name');\n    }\n\n    if (String(/a/mig) !== '/a/gim') {\n        var regexToString = function toString() {\n            var str = '/' + this.source + '/';\n            if (this.global) {\n                str += 'g';\n            }\n            if (this.ignoreCase) {\n                str += 'i';\n            }\n            if (this.multiline) {\n                str += 'm';\n            }\n            return str;\n        };\n        // can't use defineProperties here because of toString enumeration issue in IE <= 8\n        RegExp.prototype.toString = regexToString;\n    }\n}));\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}