{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isComponentAlreadyDeclaredInModules = void 0;\n\nconst core_1 = require(\"@angular/core\");\n\nconst reflectionCapabilities = new core_1.ɵReflectionCapabilities();\n/**\n * Avoid component redeclaration\n *\n * Checks recursively if the component has already been declared in all import Module\n */\n\nexports.isComponentAlreadyDeclaredInModules = (componentToFind, moduleDeclarations, moduleImports) => {\n  if (moduleDeclarations && moduleDeclarations.some(declaration => declaration === componentToFind)) {\n    // Found component in declarations array\n    return true;\n  }\n\n  if (!moduleImports) {\n    return false;\n  }\n\n  return moduleImports.some(importItem => {\n    const extractedNgModuleMetadata = extractNgModuleMetadata(importItem);\n\n    if (!extractedNgModuleMetadata) {\n      // Not an NgModule\n      return false;\n    }\n\n    return exports.isComponentAlreadyDeclaredInModules(componentToFind, extractedNgModuleMetadata.declarations, extractedNgModuleMetadata.imports);\n  });\n};\n\nconst extractNgModuleMetadata = importItem => {\n  const target = importItem && importItem.ngModule ? importItem.ngModule : importItem;\n  const decorators = reflectionCapabilities.annotations(target);\n\n  if (!decorators || decorators.length === 0) {\n    return null;\n  }\n\n  const ngModuleDecorator = decorators.find(decorator => decorator instanceof core_1.NgModule);\n\n  if (!ngModuleDecorator) {\n    return null;\n  }\n\n  return ngModuleDecorator;\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","isComponentAlreadyDeclaredInModules","core_1","require","reflectionCapabilities","ɵReflectionCapabilities","componentToFind","moduleDeclarations","moduleImports","some","declaration","importItem","extractedNgModuleMetadata","extractNgModuleMetadata","declarations","imports","target","ngModule","decorators","annotations","length","ngModuleDecorator","find","decorator","NgModule"],"sources":["/Users/plamenakichukova/syncron-sdk-components/node_modules/@storybook/angular/dist/ts3.9/client/preview/angular-beta/utils/NgModulesAnalyzer.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isComponentAlreadyDeclaredInModules = void 0;\nconst core_1 = require(\"@angular/core\");\nconst reflectionCapabilities = new core_1.ɵReflectionCapabilities();\n/**\n * Avoid component redeclaration\n *\n * Checks recursively if the component has already been declared in all import Module\n */\nexports.isComponentAlreadyDeclaredInModules = (componentToFind, moduleDeclarations, moduleImports) => {\n    if (moduleDeclarations &&\n        moduleDeclarations.some((declaration) => declaration === componentToFind)) {\n        // Found component in declarations array\n        return true;\n    }\n    if (!moduleImports) {\n        return false;\n    }\n    return moduleImports.some((importItem) => {\n        const extractedNgModuleMetadata = extractNgModuleMetadata(importItem);\n        if (!extractedNgModuleMetadata) {\n            // Not an NgModule\n            return false;\n        }\n        return exports.isComponentAlreadyDeclaredInModules(componentToFind, extractedNgModuleMetadata.declarations, extractedNgModuleMetadata.imports);\n    });\n};\nconst extractNgModuleMetadata = (importItem) => {\n    const target = importItem && importItem.ngModule ? importItem.ngModule : importItem;\n    const decorators = reflectionCapabilities.annotations(target);\n    if (!decorators || decorators.length === 0) {\n        return null;\n    }\n    const ngModuleDecorator = decorators.find((decorator) => decorator instanceof core_1.NgModule);\n    if (!ngModuleDecorator) {\n        return null;\n    }\n    return ngModuleDecorator;\n};\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,mCAAR,GAA8C,KAAK,CAAnD;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,eAAD,CAAtB;;AACA,MAAMC,sBAAsB,GAAG,IAAIF,MAAM,CAACG,uBAAX,EAA/B;AACA;AACA;AACA;AACA;AACA;;AACAN,OAAO,CAACE,mCAAR,GAA8C,CAACK,eAAD,EAAkBC,kBAAlB,EAAsCC,aAAtC,KAAwD;EAClG,IAAID,kBAAkB,IAClBA,kBAAkB,CAACE,IAAnB,CAAyBC,WAAD,IAAiBA,WAAW,KAAKJ,eAAzD,CADJ,EAC+E;IAC3E;IACA,OAAO,IAAP;EACH;;EACD,IAAI,CAACE,aAAL,EAAoB;IAChB,OAAO,KAAP;EACH;;EACD,OAAOA,aAAa,CAACC,IAAd,CAAoBE,UAAD,IAAgB;IACtC,MAAMC,yBAAyB,GAAGC,uBAAuB,CAACF,UAAD,CAAzD;;IACA,IAAI,CAACC,yBAAL,EAAgC;MAC5B;MACA,OAAO,KAAP;IACH;;IACD,OAAOb,OAAO,CAACE,mCAAR,CAA4CK,eAA5C,EAA6DM,yBAAyB,CAACE,YAAvF,EAAqGF,yBAAyB,CAACG,OAA/H,CAAP;EACH,CAPM,CAAP;AAQH,CAjBD;;AAkBA,MAAMF,uBAAuB,GAAIF,UAAD,IAAgB;EAC5C,MAAMK,MAAM,GAAGL,UAAU,IAAIA,UAAU,CAACM,QAAzB,GAAoCN,UAAU,CAACM,QAA/C,GAA0DN,UAAzE;EACA,MAAMO,UAAU,GAAGd,sBAAsB,CAACe,WAAvB,CAAmCH,MAAnC,CAAnB;;EACA,IAAI,CAACE,UAAD,IAAeA,UAAU,CAACE,MAAX,KAAsB,CAAzC,EAA4C;IACxC,OAAO,IAAP;EACH;;EACD,MAAMC,iBAAiB,GAAGH,UAAU,CAACI,IAAX,CAAiBC,SAAD,IAAeA,SAAS,YAAYrB,MAAM,CAACsB,QAA3D,CAA1B;;EACA,IAAI,CAACH,iBAAL,EAAwB;IACpB,OAAO,IAAP;EACH;;EACD,OAAOA,iBAAP;AACH,CAXD"},"metadata":{},"sourceType":"script"}