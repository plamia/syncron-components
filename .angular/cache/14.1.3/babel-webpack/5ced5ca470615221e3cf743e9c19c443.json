{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.prepareForInline = void 0;\n\nconst react_1 = __importDefault(require(\"react\"));\n\nconst p_limit_1 = __importDefault(require(\"p-limit\"));\n\nconst nanoid_1 = require(\"nanoid\");\n\nconst renderer_1 = require(\"../../renderer\");\n\nconst limit = p_limit_1.default(1);\n/**\n * Uses the angular renderer to generate a story. Uses p-limit to run synchronously\n */\n\nexports.prepareForInline = (storyFn, {\n  id,\n  parameters,\n  component\n}) => {\n  const el = react_1.default.useRef();\n  react_1.default.useEffect(() => {\n    (() => __awaiter(void 0, void 0, void 0, function* () {\n      limit(() => __awaiter(void 0, void 0, void 0, function* () {\n        const renderer = yield renderer_1.rendererFactory.getRendererInstance(`${id}-${nanoid_1.nanoid(10)}`.toLowerCase(), el.current);\n\n        if (renderer) {\n          yield renderer.render({\n            forced: false,\n            component,\n            parameters,\n            storyFnAngular: storyFn(),\n            targetDOMNode: el.current\n          });\n        }\n      }));\n    }))();\n  });\n  return react_1.default.createElement('div', {\n    ref: el\n  });\n};","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","prepareForInline","react_1","require","p_limit_1","nanoid_1","renderer_1","limit","default","storyFn","id","parameters","component","el","useRef","useEffect","renderer","rendererFactory","getRendererInstance","nanoid","toLowerCase","current","render","forced","storyFnAngular","targetDOMNode","createElement","ref"],"sources":["/Users/plamenakichukova/syncron-sdk-components/node_modules/@storybook/angular/dist/ts3.9/client/docs/prepareForInline.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prepareForInline = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst p_limit_1 = __importDefault(require(\"p-limit\"));\nconst nanoid_1 = require(\"nanoid\");\nconst renderer_1 = require(\"../../renderer\");\nconst limit = p_limit_1.default(1);\n/**\n * Uses the angular renderer to generate a story. Uses p-limit to run synchronously\n */\nexports.prepareForInline = (storyFn, { id, parameters, component }) => {\n    const el = react_1.default.useRef();\n    react_1.default.useEffect(() => {\n        (() => __awaiter(void 0, void 0, void 0, function* () {\n            limit(() => __awaiter(void 0, void 0, void 0, function* () {\n                const renderer = yield renderer_1.rendererFactory.getRendererInstance(`${id}-${nanoid_1.nanoid(10)}`.toLowerCase(), el.current);\n                if (renderer) {\n                    yield renderer.render({\n                        forced: false,\n                        component,\n                        parameters,\n                        storyFnAngular: storyFn(),\n                        targetDOMNode: el.current,\n                    });\n                }\n            }));\n        }))();\n    });\n    return react_1.default.createElement('div', {\n        ref: el,\n    });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}