{"ast":null,"code":"import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { useMemo, useEffect } from '@storybook/addons';\nimport { PARAM_KEY as BACKGROUNDS_PARAM_KEY } from '../constants';\nimport { clearStyles, addBackgroundStyle, getBackgroundColorByName, isReduceMotionEnabled } from '../helpers';\nexport var withBackground = function withBackground(StoryFn, context) {\n  var _globals$BACKGROUNDS_;\n\n  var globals = context.globals,\n      parameters = context.parameters;\n  var globalsBackgroundColor = (_globals$BACKGROUNDS_ = globals[BACKGROUNDS_PARAM_KEY]) === null || _globals$BACKGROUNDS_ === void 0 ? void 0 : _globals$BACKGROUNDS_.value;\n  var backgroundsConfig = parameters[BACKGROUNDS_PARAM_KEY];\n  var selectedBackgroundColor = useMemo(function () {\n    if (backgroundsConfig.disable) {\n      return 'transparent';\n    }\n\n    return getBackgroundColorByName(globalsBackgroundColor, backgroundsConfig.values, backgroundsConfig.default);\n  }, [backgroundsConfig, globalsBackgroundColor]);\n  var isActive = useMemo(function () {\n    return selectedBackgroundColor && selectedBackgroundColor !== 'transparent';\n  }, [selectedBackgroundColor]);\n  var selector = context.viewMode === 'docs' ? \"#anchor--\".concat(context.id, \" .docs-story\") : '.sb-show-main';\n  var backgroundStyles = useMemo(function () {\n    var transitionStyle = 'transition: background-color 0.3s;';\n    return \"\\n      \".concat(selector, \" {\\n        background: \").concat(selectedBackgroundColor, \" !important;\\n        \").concat(isReduceMotionEnabled() ? '' : transitionStyle, \"\\n      }\\n    \");\n  }, [selectedBackgroundColor, selector]);\n  useEffect(function () {\n    var selectorId = context.viewMode === 'docs' ? \"addon-backgrounds-docs-\".concat(context.id) : \"addon-backgrounds-color\";\n\n    if (!isActive) {\n      clearStyles(selectorId);\n      return;\n    }\n\n    addBackgroundStyle(selectorId, backgroundStyles, context.viewMode === 'docs' ? context.id : null);\n  }, [isActive, backgroundStyles, context]);\n  return StoryFn();\n};","map":{"version":3,"names":["useMemo","useEffect","PARAM_KEY","BACKGROUNDS_PARAM_KEY","clearStyles","addBackgroundStyle","getBackgroundColorByName","isReduceMotionEnabled","withBackground","StoryFn","context","_globals$BACKGROUNDS_","globals","parameters","globalsBackgroundColor","value","backgroundsConfig","selectedBackgroundColor","disable","values","default","isActive","selector","viewMode","concat","id","backgroundStyles","transitionStyle","selectorId"],"sources":["/Users/plamenakichukova/syncron-sdk-components/node_modules/@storybook/addon-backgrounds/dist/esm/decorators/withBackground.js"],"sourcesContent":["import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { useMemo, useEffect } from '@storybook/addons';\nimport { PARAM_KEY as BACKGROUNDS_PARAM_KEY } from '../constants';\nimport { clearStyles, addBackgroundStyle, getBackgroundColorByName, isReduceMotionEnabled } from '../helpers';\nexport var withBackground = function withBackground(StoryFn, context) {\n  var _globals$BACKGROUNDS_;\n\n  var globals = context.globals,\n      parameters = context.parameters;\n  var globalsBackgroundColor = (_globals$BACKGROUNDS_ = globals[BACKGROUNDS_PARAM_KEY]) === null || _globals$BACKGROUNDS_ === void 0 ? void 0 : _globals$BACKGROUNDS_.value;\n  var backgroundsConfig = parameters[BACKGROUNDS_PARAM_KEY];\n  var selectedBackgroundColor = useMemo(function () {\n    if (backgroundsConfig.disable) {\n      return 'transparent';\n    }\n\n    return getBackgroundColorByName(globalsBackgroundColor, backgroundsConfig.values, backgroundsConfig.default);\n  }, [backgroundsConfig, globalsBackgroundColor]);\n  var isActive = useMemo(function () {\n    return selectedBackgroundColor && selectedBackgroundColor !== 'transparent';\n  }, [selectedBackgroundColor]);\n  var selector = context.viewMode === 'docs' ? \"#anchor--\".concat(context.id, \" .docs-story\") : '.sb-show-main';\n  var backgroundStyles = useMemo(function () {\n    var transitionStyle = 'transition: background-color 0.3s;';\n    return \"\\n      \".concat(selector, \" {\\n        background: \").concat(selectedBackgroundColor, \" !important;\\n        \").concat(isReduceMotionEnabled() ? '' : transitionStyle, \"\\n      }\\n    \");\n  }, [selectedBackgroundColor, selector]);\n  useEffect(function () {\n    var selectorId = context.viewMode === 'docs' ? \"addon-backgrounds-docs-\".concat(context.id) : \"addon-backgrounds-color\";\n\n    if (!isActive) {\n      clearStyles(selectorId);\n      return;\n    }\n\n    addBackgroundStyle(selectorId, backgroundStyles, context.viewMode === 'docs' ? context.id : null);\n  }, [isActive, backgroundStyles, context]);\n  return StoryFn();\n};"],"mappings":"AAAA,OAAO,sCAAP;AACA,OAAO,wCAAP;AACA,OAAO,iDAAP;AACA,OAAO,oCAAP;AACA,SAASA,OAAT,EAAkBC,SAAlB,QAAmC,mBAAnC;AACA,SAASC,SAAS,IAAIC,qBAAtB,QAAmD,cAAnD;AACA,SAASC,WAAT,EAAsBC,kBAAtB,EAA0CC,wBAA1C,EAAoEC,qBAApE,QAAiG,YAAjG;AACA,OAAO,IAAIC,cAAc,GAAG,SAASA,cAAT,CAAwBC,OAAxB,EAAiCC,OAAjC,EAA0C;EACpE,IAAIC,qBAAJ;;EAEA,IAAIC,OAAO,GAAGF,OAAO,CAACE,OAAtB;EAAA,IACIC,UAAU,GAAGH,OAAO,CAACG,UADzB;EAEA,IAAIC,sBAAsB,GAAG,CAACH,qBAAqB,GAAGC,OAAO,CAACT,qBAAD,CAAhC,MAA6D,IAA7D,IAAqEQ,qBAAqB,KAAK,KAAK,CAApG,GAAwG,KAAK,CAA7G,GAAiHA,qBAAqB,CAACI,KAApK;EACA,IAAIC,iBAAiB,GAAGH,UAAU,CAACV,qBAAD,CAAlC;EACA,IAAIc,uBAAuB,GAAGjB,OAAO,CAAC,YAAY;IAChD,IAAIgB,iBAAiB,CAACE,OAAtB,EAA+B;MAC7B,OAAO,aAAP;IACD;;IAED,OAAOZ,wBAAwB,CAACQ,sBAAD,EAAyBE,iBAAiB,CAACG,MAA3C,EAAmDH,iBAAiB,CAACI,OAArE,CAA/B;EACD,CANoC,EAMlC,CAACJ,iBAAD,EAAoBF,sBAApB,CANkC,CAArC;EAOA,IAAIO,QAAQ,GAAGrB,OAAO,CAAC,YAAY;IACjC,OAAOiB,uBAAuB,IAAIA,uBAAuB,KAAK,aAA9D;EACD,CAFqB,EAEnB,CAACA,uBAAD,CAFmB,CAAtB;EAGA,IAAIK,QAAQ,GAAGZ,OAAO,CAACa,QAAR,KAAqB,MAArB,GAA8B,YAAYC,MAAZ,CAAmBd,OAAO,CAACe,EAA3B,EAA+B,cAA/B,CAA9B,GAA+E,eAA9F;EACA,IAAIC,gBAAgB,GAAG1B,OAAO,CAAC,YAAY;IACzC,IAAI2B,eAAe,GAAG,oCAAtB;IACA,OAAO,WAAWH,MAAX,CAAkBF,QAAlB,EAA4B,0BAA5B,EAAwDE,MAAxD,CAA+DP,uBAA/D,EAAwF,wBAAxF,EAAkHO,MAAlH,CAAyHjB,qBAAqB,KAAK,EAAL,GAAUoB,eAAxJ,EAAyK,iBAAzK,CAAP;EACD,CAH6B,EAG3B,CAACV,uBAAD,EAA0BK,QAA1B,CAH2B,CAA9B;EAIArB,SAAS,CAAC,YAAY;IACpB,IAAI2B,UAAU,GAAGlB,OAAO,CAACa,QAAR,KAAqB,MAArB,GAA8B,0BAA0BC,MAA1B,CAAiCd,OAAO,CAACe,EAAzC,CAA9B,GAA6E,yBAA9F;;IAEA,IAAI,CAACJ,QAAL,EAAe;MACbjB,WAAW,CAACwB,UAAD,CAAX;MACA;IACD;;IAEDvB,kBAAkB,CAACuB,UAAD,EAAaF,gBAAb,EAA+BhB,OAAO,CAACa,QAAR,KAAqB,MAArB,GAA8Bb,OAAO,CAACe,EAAtC,GAA2C,IAA1E,CAAlB;EACD,CATQ,EASN,CAACJ,QAAD,EAAWK,gBAAX,EAA6BhB,OAA7B,CATM,CAAT;EAUA,OAAOD,OAAO,EAAd;AACD,CAjCM"},"metadata":{},"sourceType":"module"}