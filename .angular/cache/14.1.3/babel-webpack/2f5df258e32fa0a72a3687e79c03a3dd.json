{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getComponentDecoratorMetadata = exports.getComponentPropsDecoratorMetadata = exports.isStandaloneComponent = exports.isComponent = exports.isDeclarable = exports.getComponentInputsOutputs = void 0;\n\nconst core_1 = require(\"@angular/core\");\n\nconst reflectionCapabilities = new core_1.ɵReflectionCapabilities();\n/**\n * Returns component Inputs / Outputs by browsing these properties and decorator\n */\n\nexports.getComponentInputsOutputs = component => {\n  const componentMetadata = exports.getComponentDecoratorMetadata(component);\n  const componentPropsMetadata = exports.getComponentPropsDecoratorMetadata(component);\n  const initialValue = {\n    inputs: [],\n    outputs: []\n  }; // Adds the I/O present in @Component metadata\n\n  if (componentMetadata && componentMetadata.inputs) {\n    initialValue.inputs.push(...componentMetadata.inputs.map(i => ({\n      propName: i,\n      templateName: i\n    })));\n  }\n\n  if (componentMetadata && componentMetadata.outputs) {\n    initialValue.outputs.push(...componentMetadata.outputs.map(i => ({\n      propName: i,\n      templateName: i\n    })));\n  }\n\n  if (!componentPropsMetadata) {\n    return initialValue;\n  } // Browses component properties to extract I/O\n  // Filters properties that have the same name as the one present in the @Component property\n\n\n  return Object.entries(componentPropsMetadata).reduce((previousValue, [propertyName, values]) => {\n    var _a, _b;\n\n    const value = values.find(v => v instanceof core_1.Input || v instanceof core_1.Output);\n\n    if (value instanceof core_1.Input) {\n      const inputToAdd = {\n        propName: propertyName,\n        templateName: (_a = value.bindingPropertyName) !== null && _a !== void 0 ? _a : propertyName\n      };\n      const previousInputsFiltered = previousValue.inputs.filter(i => i.templateName !== propertyName);\n      return Object.assign(Object.assign({}, previousValue), {\n        inputs: [...previousInputsFiltered, inputToAdd]\n      });\n    }\n\n    if (value instanceof core_1.Output) {\n      const outputToAdd = {\n        propName: propertyName,\n        templateName: (_b = value.bindingPropertyName) !== null && _b !== void 0 ? _b : propertyName\n      };\n      const previousOutputsFiltered = previousValue.outputs.filter(i => i.templateName !== propertyName);\n      return Object.assign(Object.assign({}, previousValue), {\n        outputs: [...previousOutputsFiltered, outputToAdd]\n      });\n    }\n\n    return previousValue;\n  }, initialValue);\n};\n\nexports.isDeclarable = component => {\n  if (!component) {\n    return false;\n  }\n\n  const decorators = reflectionCapabilities.annotations(component);\n  return !!(decorators || []).find(d => d instanceof core_1.Directive || d instanceof core_1.Pipe || d instanceof core_1.Component);\n};\n\nexports.isComponent = component => {\n  if (!component) {\n    return false;\n  }\n\n  const decorators = reflectionCapabilities.annotations(component);\n  return (decorators || []).some(d => d instanceof core_1.Component);\n};\n\nexports.isStandaloneComponent = component => {\n  if (!component) {\n    return false;\n  }\n\n  const decorators = reflectionCapabilities.annotations(component); // TODO: `standalone` is only available in Angular v14. Remove cast to `any` once\n  // Angular deps are updated to v14.x.x.\n\n  return (decorators || []).some(d => d instanceof core_1.Component && d.standalone);\n};\n/**\n * Returns all component decorator properties\n * is used to get all `@Input` and `@Output` Decorator\n */\n\n\nexports.getComponentPropsDecoratorMetadata = component => {\n  return reflectionCapabilities.propMetadata(component);\n};\n/**\n * Returns component decorator `@Component`\n */\n\n\nexports.getComponentDecoratorMetadata = component => {\n  const decorators = reflectionCapabilities.annotations(component);\n  return decorators.reverse().find(d => d instanceof core_1.Component);\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","getComponentDecoratorMetadata","getComponentPropsDecoratorMetadata","isStandaloneComponent","isComponent","isDeclarable","getComponentInputsOutputs","core_1","require","reflectionCapabilities","ɵReflectionCapabilities","component","componentMetadata","componentPropsMetadata","initialValue","inputs","outputs","push","map","i","propName","templateName","entries","reduce","previousValue","propertyName","values","_a","_b","find","v","Input","Output","inputToAdd","bindingPropertyName","previousInputsFiltered","filter","assign","outputToAdd","previousOutputsFiltered","decorators","annotations","d","Directive","Pipe","Component","some","standalone","propMetadata","reverse"],"sources":["/Users/plamenakichukova/syncron-sdk-components/node_modules/@storybook/angular/dist/ts3.9/client/preview/angular-beta/utils/NgComponentAnalyzer.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getComponentDecoratorMetadata = exports.getComponentPropsDecoratorMetadata = exports.isStandaloneComponent = exports.isComponent = exports.isDeclarable = exports.getComponentInputsOutputs = void 0;\nconst core_1 = require(\"@angular/core\");\nconst reflectionCapabilities = new core_1.ɵReflectionCapabilities();\n/**\n * Returns component Inputs / Outputs by browsing these properties and decorator\n */\nexports.getComponentInputsOutputs = (component) => {\n    const componentMetadata = exports.getComponentDecoratorMetadata(component);\n    const componentPropsMetadata = exports.getComponentPropsDecoratorMetadata(component);\n    const initialValue = {\n        inputs: [],\n        outputs: [],\n    };\n    // Adds the I/O present in @Component metadata\n    if (componentMetadata && componentMetadata.inputs) {\n        initialValue.inputs.push(...componentMetadata.inputs.map((i) => ({ propName: i, templateName: i })));\n    }\n    if (componentMetadata && componentMetadata.outputs) {\n        initialValue.outputs.push(...componentMetadata.outputs.map((i) => ({ propName: i, templateName: i })));\n    }\n    if (!componentPropsMetadata) {\n        return initialValue;\n    }\n    // Browses component properties to extract I/O\n    // Filters properties that have the same name as the one present in the @Component property\n    return Object.entries(componentPropsMetadata).reduce((previousValue, [propertyName, values]) => {\n        var _a, _b;\n        const value = values.find((v) => v instanceof core_1.Input || v instanceof core_1.Output);\n        if (value instanceof core_1.Input) {\n            const inputToAdd = {\n                propName: propertyName,\n                templateName: (_a = value.bindingPropertyName) !== null && _a !== void 0 ? _a : propertyName,\n            };\n            const previousInputsFiltered = previousValue.inputs.filter((i) => i.templateName !== propertyName);\n            return Object.assign(Object.assign({}, previousValue), { inputs: [...previousInputsFiltered, inputToAdd] });\n        }\n        if (value instanceof core_1.Output) {\n            const outputToAdd = {\n                propName: propertyName,\n                templateName: (_b = value.bindingPropertyName) !== null && _b !== void 0 ? _b : propertyName,\n            };\n            const previousOutputsFiltered = previousValue.outputs.filter((i) => i.templateName !== propertyName);\n            return Object.assign(Object.assign({}, previousValue), { outputs: [...previousOutputsFiltered, outputToAdd] });\n        }\n        return previousValue;\n    }, initialValue);\n};\nexports.isDeclarable = (component) => {\n    if (!component) {\n        return false;\n    }\n    const decorators = reflectionCapabilities.annotations(component);\n    return !!(decorators || []).find((d) => d instanceof core_1.Directive || d instanceof core_1.Pipe || d instanceof core_1.Component);\n};\nexports.isComponent = (component) => {\n    if (!component) {\n        return false;\n    }\n    const decorators = reflectionCapabilities.annotations(component);\n    return (decorators || []).some((d) => d instanceof core_1.Component);\n};\nexports.isStandaloneComponent = (component) => {\n    if (!component) {\n        return false;\n    }\n    const decorators = reflectionCapabilities.annotations(component);\n    // TODO: `standalone` is only available in Angular v14. Remove cast to `any` once\n    // Angular deps are updated to v14.x.x.\n    return (decorators || []).some((d) => d instanceof core_1.Component && d.standalone);\n};\n/**\n * Returns all component decorator properties\n * is used to get all `@Input` and `@Output` Decorator\n */\nexports.getComponentPropsDecoratorMetadata = (component) => {\n    return reflectionCapabilities.propMetadata(component);\n};\n/**\n * Returns component decorator `@Component`\n */\nexports.getComponentDecoratorMetadata = (component) => {\n    const decorators = reflectionCapabilities.annotations(component);\n    return decorators.reverse().find((d) => d instanceof core_1.Component);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}