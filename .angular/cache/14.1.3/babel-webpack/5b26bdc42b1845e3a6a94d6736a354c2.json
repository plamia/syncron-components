{"ast":null,"code":"import { __read } from \"tslib\";\nimport { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nvar nodeEventEmitterMethods = ['addListener', 'removeListener'];\nvar eventTargetMethods = ['addEventListener', 'removeEventListener'];\nvar jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n  if (isFunction(options)) {\n    resultSelector = options;\n    options = undefined;\n  }\n\n  if (resultSelector) {\n    return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n  }\n\n  var _a = __read(isEventTarget(target) ? eventTargetMethods.map(function (methodName) {\n    return function (handler) {\n      return target[methodName](eventName, handler, options);\n    };\n  }) : isNodeStyleEventEmitter(target) ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName)) : isJQueryStyleEventEmitter(target) ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName)) : [], 2),\n      add = _a[0],\n      remove = _a[1];\n\n  if (!add) {\n    if (isArrayLike(target)) {\n      return mergeMap(function (subTarget) {\n        return fromEvent(subTarget, eventName, options);\n      })(innerFrom(target));\n    }\n  }\n\n  if (!add) {\n    throw new TypeError('Invalid event target');\n  }\n\n  return new Observable(function (subscriber) {\n    var handler = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return subscriber.next(1 < args.length ? args : args[0]);\n    };\n\n    add(handler);\n    return function () {\n      return remove(handler);\n    };\n  });\n}\n\nfunction toCommonHandlerRegistry(target, eventName) {\n  return function (methodName) {\n    return function (handler) {\n      return target[methodName](eventName, handler);\n    };\n  };\n}\n\nfunction isNodeStyleEventEmitter(target) {\n  return isFunction(target.addListener) && isFunction(target.removeListener);\n}\n\nfunction isJQueryStyleEventEmitter(target) {\n  return isFunction(target.on) && isFunction(target.off);\n}\n\nfunction isEventTarget(target) {\n  return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n} //# sourceMappingURL=fromEvent.js.map","map":{"version":3,"names":["__read","innerFrom","Observable","mergeMap","isArrayLike","isFunction","mapOneOrManyArgs","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","target","eventName","options","resultSelector","undefined","pipe","_a","isEventTarget","map","methodName","handler","isNodeStyleEventEmitter","toCommonHandlerRegistry","isJQueryStyleEventEmitter","add","remove","subTarget","TypeError","subscriber","args","_i","arguments","length","next","addListener","removeListener","on","off","addEventListener","removeEventListener"],"sources":["/Users/plamenakichukova/syncron-sdk-components/node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"],"sourcesContent":["import { __read } from \"tslib\";\nimport { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nvar nodeEventEmitterMethods = ['addListener', 'removeListener'];\nvar eventTargetMethods = ['addEventListener', 'removeEventListener'];\nvar jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    var _a = __read(isEventTarget(target)\n        ? eventTargetMethods.map(function (methodName) { return function (handler) { return target[methodName](eventName, handler, options); }; })\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [], 2), add = _a[0], remove = _a[1];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap(function (subTarget) { return fromEvent(subTarget, eventName, options); })(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable(function (subscriber) {\n        var handler = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subscriber.next(1 < args.length ? args : args[0]);\n        };\n        add(handler);\n        return function () { return remove(handler); };\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return function (methodName) { return function (handler) { return target[methodName](eventName, handler); }; };\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n//# sourceMappingURL=fromEvent.js.map"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,gBAAT,QAAiC,0BAAjC;AACA,IAAIC,uBAAuB,GAAG,CAAC,aAAD,EAAgB,gBAAhB,CAA9B;AACA,IAAIC,kBAAkB,GAAG,CAAC,kBAAD,EAAqB,qBAArB,CAAzB;AACA,IAAIC,aAAa,GAAG,CAAC,IAAD,EAAO,KAAP,CAApB;AACA,OAAO,SAASC,SAAT,CAAmBC,MAAnB,EAA2BC,SAA3B,EAAsCC,OAAtC,EAA+CC,cAA/C,EAA+D;EAClE,IAAIT,UAAU,CAACQ,OAAD,CAAd,EAAyB;IACrBC,cAAc,GAAGD,OAAjB;IACAA,OAAO,GAAGE,SAAV;EACH;;EACD,IAAID,cAAJ,EAAoB;IAChB,OAAOJ,SAAS,CAACC,MAAD,EAASC,SAAT,EAAoBC,OAApB,CAAT,CAAsCG,IAAtC,CAA2CV,gBAAgB,CAACQ,cAAD,CAA3D,CAAP;EACH;;EACD,IAAIG,EAAE,GAAGjB,MAAM,CAACkB,aAAa,CAACP,MAAD,CAAb,GACVH,kBAAkB,CAACW,GAAnB,CAAuB,UAAUC,UAAV,EAAsB;IAAE,OAAO,UAAUC,OAAV,EAAmB;MAAE,OAAOV,MAAM,CAACS,UAAD,CAAN,CAAmBR,SAAnB,EAA8BS,OAA9B,EAAuCR,OAAvC,CAAP;IAAyD,CAArF;EAAwF,CAAvI,CADU,GAGRS,uBAAuB,CAACX,MAAD,CAAvB,GACMJ,uBAAuB,CAACY,GAAxB,CAA4BI,uBAAuB,CAACZ,MAAD,EAASC,SAAT,CAAnD,CADN,GAEMY,yBAAyB,CAACb,MAAD,CAAzB,GACIF,aAAa,CAACU,GAAd,CAAkBI,uBAAuB,CAACZ,MAAD,EAASC,SAAT,CAAzC,CADJ,GAEI,EAPH,EAOO,CAPP,CAAf;EAAA,IAO0Ba,GAAG,GAAGR,EAAE,CAAC,CAAD,CAPlC;EAAA,IAOuCS,MAAM,GAAGT,EAAE,CAAC,CAAD,CAPlD;;EAQA,IAAI,CAACQ,GAAL,EAAU;IACN,IAAIrB,WAAW,CAACO,MAAD,CAAf,EAAyB;MACrB,OAAOR,QAAQ,CAAC,UAAUwB,SAAV,EAAqB;QAAE,OAAOjB,SAAS,CAACiB,SAAD,EAAYf,SAAZ,EAAuBC,OAAvB,CAAhB;MAAkD,CAA1E,CAAR,CAAoFZ,SAAS,CAACU,MAAD,CAA7F,CAAP;IACH;EACJ;;EACD,IAAI,CAACc,GAAL,EAAU;IACN,MAAM,IAAIG,SAAJ,CAAc,sBAAd,CAAN;EACH;;EACD,OAAO,IAAI1B,UAAJ,CAAe,UAAU2B,UAAV,EAAsB;IACxC,IAAIR,OAAO,GAAG,YAAY;MACtB,IAAIS,IAAI,GAAG,EAAX;;MACA,KAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;QAC1CD,IAAI,CAACC,EAAD,CAAJ,GAAWC,SAAS,CAACD,EAAD,CAApB;MACH;;MACD,OAAOF,UAAU,CAACK,IAAX,CAAgB,IAAIJ,IAAI,CAACG,MAAT,GAAkBH,IAAlB,GAAyBA,IAAI,CAAC,CAAD,CAA7C,CAAP;IACH,CAND;;IAOAL,GAAG,CAACJ,OAAD,CAAH;IACA,OAAO,YAAY;MAAE,OAAOK,MAAM,CAACL,OAAD,CAAb;IAAyB,CAA9C;EACH,CAVM,CAAP;AAWH;;AACD,SAASE,uBAAT,CAAiCZ,MAAjC,EAAyCC,SAAzC,EAAoD;EAChD,OAAO,UAAUQ,UAAV,EAAsB;IAAE,OAAO,UAAUC,OAAV,EAAmB;MAAE,OAAOV,MAAM,CAACS,UAAD,CAAN,CAAmBR,SAAnB,EAA8BS,OAA9B,CAAP;IAAgD,CAA5E;EAA+E,CAA9G;AACH;;AACD,SAASC,uBAAT,CAAiCX,MAAjC,EAAyC;EACrC,OAAON,UAAU,CAACM,MAAM,CAACwB,WAAR,CAAV,IAAkC9B,UAAU,CAACM,MAAM,CAACyB,cAAR,CAAnD;AACH;;AACD,SAASZ,yBAAT,CAAmCb,MAAnC,EAA2C;EACvC,OAAON,UAAU,CAACM,MAAM,CAAC0B,EAAR,CAAV,IAAyBhC,UAAU,CAACM,MAAM,CAAC2B,GAAR,CAA1C;AACH;;AACD,SAASpB,aAAT,CAAuBP,MAAvB,EAA+B;EAC3B,OAAON,UAAU,CAACM,MAAM,CAAC4B,gBAAR,CAAV,IAAuClC,UAAU,CAACM,MAAM,CAAC6B,mBAAR,CAAxD;AACH,C,CACD"},"metadata":{},"sourceType":"module"}