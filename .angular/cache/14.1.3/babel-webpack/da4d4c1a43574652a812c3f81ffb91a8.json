{"ast":null,"code":"import { Observable } from '../Observable';\nimport { argsArgArrayOrObject } from '../util/argsArgArrayOrObject';\nimport { from } from './from';\nimport { identity } from '../util/identity';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nimport { popResultSelector, popScheduler } from '../util/args';\nimport { createObject } from '../util/createObject';\nimport { OperatorSubscriber } from '../operators/OperatorSubscriber';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function combineLatest() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var scheduler = popScheduler(args);\n  var resultSelector = popResultSelector(args);\n\n  var _a = argsArgArrayOrObject(args),\n      observables = _a.args,\n      keys = _a.keys;\n\n  if (observables.length === 0) {\n    return from([], scheduler);\n  }\n\n  var result = new Observable(combineLatestInit(observables, scheduler, keys ? function (values) {\n    return createObject(keys, values);\n  } : identity));\n  return resultSelector ? result.pipe(mapOneOrManyArgs(resultSelector)) : result;\n}\nexport function combineLatestInit(observables, scheduler, valueTransform) {\n  if (valueTransform === void 0) {\n    valueTransform = identity;\n  }\n\n  return function (subscriber) {\n    maybeSchedule(scheduler, function () {\n      var length = observables.length;\n      var values = new Array(length);\n      var active = length;\n      var remainingFirstValues = length;\n\n      var _loop_1 = function (i) {\n        maybeSchedule(scheduler, function () {\n          var source = from(observables[i], scheduler);\n          var hasFirstValue = false;\n          source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n            values[i] = value;\n\n            if (!hasFirstValue) {\n              hasFirstValue = true;\n              remainingFirstValues--;\n            }\n\n            if (!remainingFirstValues) {\n              subscriber.next(valueTransform(values.slice()));\n            }\n          }, function () {\n            if (! --active) {\n              subscriber.complete();\n            }\n          }));\n        }, subscriber);\n      };\n\n      for (var i = 0; i < length; i++) {\n        _loop_1(i);\n      }\n    }, subscriber);\n  };\n}\n\nfunction maybeSchedule(scheduler, execute, subscription) {\n  if (scheduler) {\n    executeSchedule(subscription, scheduler, execute);\n  } else {\n    execute();\n  }\n} //# sourceMappingURL=combineLatest.js.map","map":{"version":3,"names":["Observable","argsArgArrayOrObject","from","identity","mapOneOrManyArgs","popResultSelector","popScheduler","createObject","OperatorSubscriber","executeSchedule","combineLatest","args","_i","arguments","length","scheduler","resultSelector","_a","observables","keys","result","combineLatestInit","values","pipe","valueTransform","subscriber","maybeSchedule","Array","active","remainingFirstValues","_loop_1","i","source","hasFirstValue","subscribe","value","next","slice","complete","execute","subscription"],"sources":["/Users/plamenakichukova/syncron-sdk-components/node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"],"sourcesContent":["import { Observable } from '../Observable';\nimport { argsArgArrayOrObject } from '../util/argsArgArrayOrObject';\nimport { from } from './from';\nimport { identity } from '../util/identity';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nimport { popResultSelector, popScheduler } from '../util/args';\nimport { createObject } from '../util/createObject';\nimport { OperatorSubscriber } from '../operators/OperatorSubscriber';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function combineLatest() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    var resultSelector = popResultSelector(args);\n    var _a = argsArgArrayOrObject(args), observables = _a.args, keys = _a.keys;\n    if (observables.length === 0) {\n        return from([], scheduler);\n    }\n    var result = new Observable(combineLatestInit(observables, scheduler, keys\n        ?\n            function (values) { return createObject(keys, values); }\n        :\n            identity));\n    return resultSelector ? result.pipe(mapOneOrManyArgs(resultSelector)) : result;\n}\nexport function combineLatestInit(observables, scheduler, valueTransform) {\n    if (valueTransform === void 0) { valueTransform = identity; }\n    return function (subscriber) {\n        maybeSchedule(scheduler, function () {\n            var length = observables.length;\n            var values = new Array(length);\n            var active = length;\n            var remainingFirstValues = length;\n            var _loop_1 = function (i) {\n                maybeSchedule(scheduler, function () {\n                    var source = from(observables[i], scheduler);\n                    var hasFirstValue = false;\n                    source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n                        values[i] = value;\n                        if (!hasFirstValue) {\n                            hasFirstValue = true;\n                            remainingFirstValues--;\n                        }\n                        if (!remainingFirstValues) {\n                            subscriber.next(valueTransform(values.slice()));\n                        }\n                    }, function () {\n                        if (!--active) {\n                            subscriber.complete();\n                        }\n                    }));\n                }, subscriber);\n            };\n            for (var i = 0; i < length; i++) {\n                _loop_1(i);\n            }\n        }, subscriber);\n    };\n}\nfunction maybeSchedule(scheduler, execute, subscription) {\n    if (scheduler) {\n        executeSchedule(subscription, scheduler, execute);\n    }\n    else {\n        execute();\n    }\n}\n//# sourceMappingURL=combineLatest.js.map"],"mappings":"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"},"metadata":{},"sourceType":"module"}