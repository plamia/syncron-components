{"ast":null,"code":"import \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n/* eslint-disable operator-assignment */\n\n/* eslint-disable no-param-reassign */\n\nvar colors = {\n  margin: '#f6b26b',\n  border: '#ffe599',\n  padding: '#93c47d',\n  content: '#6fa8dc',\n  text: '#232020'\n};\nvar labelPadding = 6;\n\nfunction roundedRect(context, _ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      w = _ref.w,\n      h = _ref.h,\n      r = _ref.r;\n  x = x - w / 2;\n  y = y - h / 2;\n  if (w < 2 * r) r = w / 2;\n  if (h < 2 * r) r = h / 2;\n  context.beginPath();\n  context.moveTo(x + r, y);\n  context.arcTo(x + w, y, x + w, y + h, r);\n  context.arcTo(x + w, y + h, x, y + h, r);\n  context.arcTo(x, y + h, x, y, r);\n  context.arcTo(x, y, x + w, y, r);\n  context.closePath();\n}\n\nfunction positionCoordinate(position, _ref2) {\n  var padding = _ref2.padding,\n      border = _ref2.border,\n      width = _ref2.width,\n      height = _ref2.height,\n      top = _ref2.top,\n      left = _ref2.left;\n  var contentWidth = width - border.left - border.right - padding.left - padding.right;\n  var contentHeight = height - padding.top - padding.bottom - border.top - border.bottom;\n  var x = left + border.left + padding.left;\n  var y = top + border.top + padding.top;\n\n  if (position === 'top') {\n    x += contentWidth / 2;\n  } else if (position === 'right') {\n    x += contentWidth;\n    y += contentHeight / 2;\n  } else if (position === 'bottom') {\n    x += contentWidth / 2;\n    y += contentHeight;\n  } else if (position === 'left') {\n    y += contentHeight / 2;\n  } else if (position === 'center') {\n    x += contentWidth / 2;\n    y += contentHeight / 2;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n/**\n * Offset the label based on how many layers appear before it\n * For example:\n * margin labels will shift further outwards if there are\n * padding labels\n */\n\n\nfunction offset(type, position, _ref3, labelPaddingSize, external) {\n  var margin = _ref3.margin,\n      border = _ref3.border,\n      padding = _ref3.padding;\n\n  var shift = function shift(dir) {\n    return 0;\n  };\n\n  var offsetX = 0;\n  var offsetY = 0; // If external labels then push them to the edge of the band\n  // else keep them centred\n\n  var locationMultiplier = external ? 1 : 0.5; // Account for padding within the label\n\n  var labelPaddingShift = external ? labelPaddingSize * 2 : 0;\n\n  if (type === 'padding') {\n    shift = function shift(dir) {\n      return padding[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'border') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'margin') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] + margin[dir] * locationMultiplier + labelPaddingShift;\n    };\n  }\n\n  if (position === 'top') {\n    offsetY = -shift('top');\n  } else if (position === 'right') {\n    offsetX = shift('right');\n  } else if (position === 'bottom') {\n    offsetY = shift('bottom');\n  } else if (position === 'left') {\n    offsetX = -shift('left');\n  }\n\n  return {\n    offsetX: offsetX,\n    offsetY: offsetY\n  };\n}\n\nfunction collide(a, b) {\n  return Math.abs(a.x - b.x) < Math.abs(a.w + b.w) / 2 && Math.abs(a.y - b.y) < Math.abs(a.h + b.h) / 2;\n}\n\nfunction overlapAdjustment(position, currentRect, prevRect) {\n  if (position === 'top') {\n    currentRect.y = prevRect.y - prevRect.h - labelPadding;\n  } else if (position === 'right') {\n    currentRect.x = prevRect.x + prevRect.w / 2 + labelPadding + currentRect.w / 2;\n  } else if (position === 'bottom') {\n    currentRect.y = prevRect.y + prevRect.h + labelPadding;\n  } else if (position === 'left') {\n    currentRect.x = prevRect.x - prevRect.w / 2 - labelPadding - currentRect.w / 2;\n  }\n\n  return {\n    x: currentRect.x,\n    y: currentRect.y\n  };\n}\n\nfunction textWithRect(context, type, _ref4, text) {\n  var x = _ref4.x,\n      y = _ref4.y,\n      w = _ref4.w,\n      h = _ref4.h;\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  return {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  };\n}\n\nfunction configureText(context, text) {\n  context.font = '600 12px monospace';\n  context.textBaseline = 'middle';\n  context.textAlign = 'center';\n  var metrics = context.measureText(text);\n  var actualHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n  var w = metrics.width + labelPadding * 2;\n  var h = actualHeight + labelPadding * 2;\n  return {\n    w: w,\n    h: h\n  };\n}\n\nfunction drawLabel(context, measurements, _ref5, prevRect) {\n  var type = _ref5.type,\n      _ref5$position = _ref5.position,\n      position = _ref5$position === void 0 ? 'center' : _ref5$position,\n      text = _ref5.text;\n  var external = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  var _positionCoordinate = positionCoordinate(position, measurements),\n      x = _positionCoordinate.x,\n      y = _positionCoordinate.y;\n\n  var _offset = offset(type, position, measurements, labelPadding + 1, external),\n      offsetX = _offset.offsetX,\n      offsetY = _offset.offsetY; // Shift coordinate to center within\n  // the band of measurement\n\n\n  x += offsetX;\n  y += offsetY;\n\n  var _configureText = configureText(context, text),\n      w = _configureText.w,\n      h = _configureText.h; // Adjust for overlap\n\n\n  if (prevRect && collide({\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, prevRect)) {\n    var adjusted = overlapAdjustment(position, {\n      x: x,\n      y: y,\n      w: w,\n      h: h\n    }, prevRect);\n    x = adjusted.x;\n    y = adjusted.y;\n  }\n\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\n\nfunction floatingOffset(alignment, _ref6) {\n  var w = _ref6.w,\n      h = _ref6.h;\n  var deltaW = w * 0.5 + labelPadding;\n  var deltaH = h * 0.5 + labelPadding;\n  return {\n    offsetX: (alignment.x === 'left' ? -1 : 1) * deltaW,\n    offsetY: (alignment.y === 'top' ? -1 : 1) * deltaH\n  };\n}\n\nexport function drawFloatingLabel(context, measurements, _ref7) {\n  var type = _ref7.type,\n      text = _ref7.text;\n  var floatingAlignment = measurements.floatingAlignment,\n      extremities = measurements.extremities;\n  var x = extremities[floatingAlignment.x];\n  var y = extremities[floatingAlignment.y];\n\n  var _configureText2 = configureText(context, text),\n      w = _configureText2.w,\n      h = _configureText2.h;\n\n  var _floatingOffset = floatingOffset(floatingAlignment, {\n    w: w,\n    h: h\n  }),\n      offsetX = _floatingOffset.offsetX,\n      offsetY = _floatingOffset.offsetY;\n\n  x += offsetX;\n  y += offsetY;\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\n\nfunction drawStack(context, measurements, stack, external) {\n  var rects = [];\n  stack.forEach(function (l, idx) {\n    // Move the centred label to floating in external mode\n    var rect = external && l.position === 'center' ? drawFloatingLabel(context, measurements, l) : drawLabel(context, measurements, l, rects[idx - 1], external);\n    rects[idx] = rect;\n  });\n}\n\nexport function labelStacks(context, measurements, labels, externalLabels) {\n  var stacks = labels.reduce(function (acc, l) {\n    if (!Object.prototype.hasOwnProperty.call(acc, l.position)) {\n      acc[l.position] = [];\n    }\n\n    acc[l.position].push(l);\n    return acc;\n  }, {});\n\n  if (stacks.top) {\n    drawStack(context, measurements, stacks.top, externalLabels);\n  }\n\n  if (stacks.right) {\n    drawStack(context, measurements, stacks.right, externalLabels);\n  }\n\n  if (stacks.bottom) {\n    drawStack(context, measurements, stacks.bottom, externalLabels);\n  }\n\n  if (stacks.left) {\n    drawStack(context, measurements, stacks.left, externalLabels);\n  }\n\n  if (stacks.center) {\n    drawStack(context, measurements, stacks.center, externalLabels);\n  }\n}","map":{"version":3,"names":["colors","margin","border","padding","content","text","labelPadding","roundedRect","context","_ref","x","y","w","h","r","beginPath","moveTo","arcTo","closePath","positionCoordinate","position","_ref2","width","height","top","left","contentWidth","right","contentHeight","bottom","offset","type","_ref3","labelPaddingSize","external","shift","dir","offsetX","offsetY","locationMultiplier","labelPaddingShift","collide","a","b","Math","abs","overlapAdjustment","currentRect","prevRect","textWithRect","_ref4","fillStyle","concat","fill","strokeStyle","stroke","fillText","configureText","font","textBaseline","textAlign","metrics","measureText","actualHeight","actualBoundingBoxAscent","actualBoundingBoxDescent","drawLabel","measurements","_ref5","_ref5$position","arguments","length","undefined","_positionCoordinate","_offset","_configureText","adjusted","floatingOffset","alignment","_ref6","deltaW","deltaH","drawFloatingLabel","_ref7","floatingAlignment","extremities","_configureText2","_floatingOffset","drawStack","stack","rects","forEach","l","idx","rect","labelStacks","labels","externalLabels","stacks","reduce","acc","Object","prototype","hasOwnProperty","call","push","center"],"sources":["/Users/plamenakichukova/syncron-sdk-components/node_modules/@storybook/addon-measure/dist/esm/box-model/labels.js"],"sourcesContent":["import \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n\n/* eslint-disable operator-assignment */\n\n/* eslint-disable no-param-reassign */\nvar colors = {\n  margin: '#f6b26b',\n  border: '#ffe599',\n  padding: '#93c47d',\n  content: '#6fa8dc',\n  text: '#232020'\n};\nvar labelPadding = 6;\n\nfunction roundedRect(context, _ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      w = _ref.w,\n      h = _ref.h,\n      r = _ref.r;\n  x = x - w / 2;\n  y = y - h / 2;\n  if (w < 2 * r) r = w / 2;\n  if (h < 2 * r) r = h / 2;\n  context.beginPath();\n  context.moveTo(x + r, y);\n  context.arcTo(x + w, y, x + w, y + h, r);\n  context.arcTo(x + w, y + h, x, y + h, r);\n  context.arcTo(x, y + h, x, y, r);\n  context.arcTo(x, y, x + w, y, r);\n  context.closePath();\n}\n\nfunction positionCoordinate(position, _ref2) {\n  var padding = _ref2.padding,\n      border = _ref2.border,\n      width = _ref2.width,\n      height = _ref2.height,\n      top = _ref2.top,\n      left = _ref2.left;\n  var contentWidth = width - border.left - border.right - padding.left - padding.right;\n  var contentHeight = height - padding.top - padding.bottom - border.top - border.bottom;\n  var x = left + border.left + padding.left;\n  var y = top + border.top + padding.top;\n\n  if (position === 'top') {\n    x += contentWidth / 2;\n  } else if (position === 'right') {\n    x += contentWidth;\n    y += contentHeight / 2;\n  } else if (position === 'bottom') {\n    x += contentWidth / 2;\n    y += contentHeight;\n  } else if (position === 'left') {\n    y += contentHeight / 2;\n  } else if (position === 'center') {\n    x += contentWidth / 2;\n    y += contentHeight / 2;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n/**\n * Offset the label based on how many layers appear before it\n * For example:\n * margin labels will shift further outwards if there are\n * padding labels\n */\n\n\nfunction offset(type, position, _ref3, labelPaddingSize, external) {\n  var margin = _ref3.margin,\n      border = _ref3.border,\n      padding = _ref3.padding;\n\n  var shift = function shift(dir) {\n    return 0;\n  };\n\n  var offsetX = 0;\n  var offsetY = 0; // If external labels then push them to the edge of the band\n  // else keep them centred\n\n  var locationMultiplier = external ? 1 : 0.5; // Account for padding within the label\n\n  var labelPaddingShift = external ? labelPaddingSize * 2 : 0;\n\n  if (type === 'padding') {\n    shift = function shift(dir) {\n      return padding[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'border') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] * locationMultiplier + labelPaddingShift;\n    };\n  } else if (type === 'margin') {\n    shift = function shift(dir) {\n      return padding[dir] + border[dir] + margin[dir] * locationMultiplier + labelPaddingShift;\n    };\n  }\n\n  if (position === 'top') {\n    offsetY = -shift('top');\n  } else if (position === 'right') {\n    offsetX = shift('right');\n  } else if (position === 'bottom') {\n    offsetY = shift('bottom');\n  } else if (position === 'left') {\n    offsetX = -shift('left');\n  }\n\n  return {\n    offsetX: offsetX,\n    offsetY: offsetY\n  };\n}\n\nfunction collide(a, b) {\n  return Math.abs(a.x - b.x) < Math.abs(a.w + b.w) / 2 && Math.abs(a.y - b.y) < Math.abs(a.h + b.h) / 2;\n}\n\nfunction overlapAdjustment(position, currentRect, prevRect) {\n  if (position === 'top') {\n    currentRect.y = prevRect.y - prevRect.h - labelPadding;\n  } else if (position === 'right') {\n    currentRect.x = prevRect.x + prevRect.w / 2 + labelPadding + currentRect.w / 2;\n  } else if (position === 'bottom') {\n    currentRect.y = prevRect.y + prevRect.h + labelPadding;\n  } else if (position === 'left') {\n    currentRect.x = prevRect.x - prevRect.w / 2 - labelPadding - currentRect.w / 2;\n  }\n\n  return {\n    x: currentRect.x,\n    y: currentRect.y\n  };\n}\n\nfunction textWithRect(context, type, _ref4, text) {\n  var x = _ref4.x,\n      y = _ref4.y,\n      w = _ref4.w,\n      h = _ref4.h;\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  roundedRect(context, {\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    r: 3\n  });\n  context.fillStyle = \"\".concat(colors[type], \"dd\");\n  context.fill();\n  context.strokeStyle = colors[type];\n  context.stroke();\n  context.fillStyle = colors.text;\n  context.fillText(text, x, y);\n  return {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  };\n}\n\nfunction configureText(context, text) {\n  context.font = '600 12px monospace';\n  context.textBaseline = 'middle';\n  context.textAlign = 'center';\n  var metrics = context.measureText(text);\n  var actualHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n  var w = metrics.width + labelPadding * 2;\n  var h = actualHeight + labelPadding * 2;\n  return {\n    w: w,\n    h: h\n  };\n}\n\nfunction drawLabel(context, measurements, _ref5, prevRect) {\n  var type = _ref5.type,\n      _ref5$position = _ref5.position,\n      position = _ref5$position === void 0 ? 'center' : _ref5$position,\n      text = _ref5.text;\n  var external = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  var _positionCoordinate = positionCoordinate(position, measurements),\n      x = _positionCoordinate.x,\n      y = _positionCoordinate.y;\n\n  var _offset = offset(type, position, measurements, labelPadding + 1, external),\n      offsetX = _offset.offsetX,\n      offsetY = _offset.offsetY; // Shift coordinate to center within\n  // the band of measurement\n\n\n  x += offsetX;\n  y += offsetY;\n\n  var _configureText = configureText(context, text),\n      w = _configureText.w,\n      h = _configureText.h; // Adjust for overlap\n\n\n  if (prevRect && collide({\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, prevRect)) {\n    var adjusted = overlapAdjustment(position, {\n      x: x,\n      y: y,\n      w: w,\n      h: h\n    }, prevRect);\n    x = adjusted.x;\n    y = adjusted.y;\n  }\n\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\n\nfunction floatingOffset(alignment, _ref6) {\n  var w = _ref6.w,\n      h = _ref6.h;\n  var deltaW = w * 0.5 + labelPadding;\n  var deltaH = h * 0.5 + labelPadding;\n  return {\n    offsetX: (alignment.x === 'left' ? -1 : 1) * deltaW,\n    offsetY: (alignment.y === 'top' ? -1 : 1) * deltaH\n  };\n}\n\nexport function drawFloatingLabel(context, measurements, _ref7) {\n  var type = _ref7.type,\n      text = _ref7.text;\n  var floatingAlignment = measurements.floatingAlignment,\n      extremities = measurements.extremities;\n  var x = extremities[floatingAlignment.x];\n  var y = extremities[floatingAlignment.y];\n\n  var _configureText2 = configureText(context, text),\n      w = _configureText2.w,\n      h = _configureText2.h;\n\n  var _floatingOffset = floatingOffset(floatingAlignment, {\n    w: w,\n    h: h\n  }),\n      offsetX = _floatingOffset.offsetX,\n      offsetY = _floatingOffset.offsetY;\n\n  x += offsetX;\n  y += offsetY;\n  return textWithRect(context, type, {\n    x: x,\n    y: y,\n    w: w,\n    h: h\n  }, text);\n}\n\nfunction drawStack(context, measurements, stack, external) {\n  var rects = [];\n  stack.forEach(function (l, idx) {\n    // Move the centred label to floating in external mode\n    var rect = external && l.position === 'center' ? drawFloatingLabel(context, measurements, l) : drawLabel(context, measurements, l, rects[idx - 1], external);\n    rects[idx] = rect;\n  });\n}\n\nexport function labelStacks(context, measurements, labels, externalLabels) {\n  var stacks = labels.reduce(function (acc, l) {\n    if (!Object.prototype.hasOwnProperty.call(acc, l.position)) {\n      acc[l.position] = [];\n    }\n\n    acc[l.position].push(l);\n    return acc;\n  }, {});\n\n  if (stacks.top) {\n    drawStack(context, measurements, stacks.top, externalLabels);\n  }\n\n  if (stacks.right) {\n    drawStack(context, measurements, stacks.right, externalLabels);\n  }\n\n  if (stacks.bottom) {\n    drawStack(context, measurements, stacks.bottom, externalLabels);\n  }\n\n  if (stacks.left) {\n    drawStack(context, measurements, stacks.left, externalLabels);\n  }\n\n  if (stacks.center) {\n    drawStack(context, measurements, stacks.center, externalLabels);\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}